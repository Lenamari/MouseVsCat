function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(s){return Math.abs(Math.random()*s)+3}function random(s){return Math.abs(Math.random()*s)}var container=document.querySelector(".container"),canvas=function(s,t){this.width=s,this.height=t,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();for(var cheeses=[],score=0,cheese=function(s,t,i,e,h){this.width=s,this.height=t,this.dirX,this.posX=i,this.posY=e,this.speed=h,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.add=function(){var s=this,t={};t.posY=s.posY,cheeses.push(t)},this.direction=function(){var s=this;setInterval(function(){s.posX<=-100?(s.posX=canvas1.width-s.width,s.posY=randomY()):(s.posX-=s.speed,s.div.style.left=s.posX+"px",s.div.style.top=s.posY+"px"),mouse1.posY-mouse1.height/2<s.posY&&mouse1.posY+mouse1.height/2>s.posY&&mouse1.posX-mouse1.width/2<s.posX&&mouse1.posX+mouse1.width/2>s.posX&&(s.posX=canvas1.width-s.width,s.posY=randomY(),score+=1,console.log("score: "+score))},30)}},i=0;i<4;i++){var cheese1=new cheese(50,50,randomX(),randomY(),random(12));cheese1.create(),cheese1.add()}var mouse=function(s,t,i,e,h,o,d){this.width=s,this.height=t,this.posX=i,this.posY=e,this.speed=h,this.dirX=0,this.dirY=0,this.cross=new Array,this.div;var a=!1;this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var s=this;document.addEventListener("keydown",function(t){t.keyCode==s.cross[0]?(s.dirY=-s.speed,s.div.className="mouse dir0"):t.keyCode==s.cross[1]?(s.dirX=s.speed,s.div.className="mouse dir90"):t.keyCode==s.cross[2]?(s.dirY=s.speed,s.div.className="mouse dir180"):t.keyCode==s.cross[3]&&(s.dirX=-s.speed,s.div.className="mouse dir270"),0==a&&(a=!0,loop=setInterval(function(){s.posX<=0?s.posX=1:s.posX>=canvas1.width-s.width?s.posX=canvas1.width-s.width-1:s.posX+=s.dirX,s.posY<=0?s.posY=1:s.posY>=canvas1.height-s.height?s.posY=canvas1.height-s.height-1:s.posY+=s.dirY,s.div.style.left=s.posX+"px",s.div.style.top=s.posY+"px"},10)),document.addEventListener("keyup",function(t){a=!1,s.dirX=0,s.dirY=0,clearInterval(loop)},!1)},!1)}},mouse1=new mouse(70,70,20,20,2,0,0);mouse1.cross=[38,39,40,37],mouse1.create(),mouse1.move();for(var obstacle=function(s,t,i,e){this.div,this.width=s,this.height=s,this.posX=randomX(),this.posY=randomY(),this.create=function(){this.div=document.createElement("div"),this.div.classList.add("obstacle"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.margin=function(){this.width}},i=0;i<4;i++){var obstacle1=new obstacle(100,100,randomX(),randomY());obstacle1.create()}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhcy5qcyIsImNoZWVzZS5qcyIsIm1vdXNlLmpzIiwib2JzdGFjbGUuanMiXSwibmFtZXMiOlsicmFuZG9tWCIsIk1hdGgiLCJhYnMiLCJmbG9vciIsInJhbmRvbSIsImNhbnZhczEiLCJ3aWR0aCIsInJhbmRvbVkiLCJoZWlnaHQiLCJzcGVlZCIsIm51bWJlciIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhbnZhcyIsInRoaXMiLCJjcmVhdGUiLCJkaXYiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImNoZWVzZXMiLCJzY29yZSIsImNoZWVzZSIsInBvc1giLCJwb3NZIiwiZGlyWCIsInRvcCIsImxlZnQiLCJfdGhpcyIsInB1c2giLCJkaXJlY3Rpb24iLCJzZXRJbnRlcnZhbCIsIm1vdXNlMSIsImNvbnNvbGUiLCJsb2ciLCJpIiwiY2hlZXNlMSIsIm1vdXNlIiwiZGlyWSIsImNyb3NzIiwiQXJyYXkiLCJpc1ByZXNzZWQiLCJtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5Q29kZSIsImNsYXNzTmFtZSIsImxvb3AiLCJjbGVhckludGVydmFsIiwib2JzdGFjbGUiLCJtYXJnaW4iLCJvYnN0YWNsZTEiXSwibWFwcGluZ3MiOiJBQUNBLFFBQUFBLFdBQUEsTUFBQUMsTUFBQUMsSUFBQUQsS0FBQUUsTUFBQUYsS0FBQUcsU0FBQUMsUUFBQUMsTUFBQSxLQUNBLFFBQUFDLFdBQUEsTUFBQU4sTUFBQUMsSUFBQUQsS0FBQUUsTUFBQUYsS0FBQUcsU0FBQUMsUUFBQUcsT0FBQSxLQUNBLFFBQUFKLFFBQUFLLEdBQUEsTUFBQVIsTUFBQUMsSUFBQUQsS0FBQUcsU0FBQUssR0FBQSxFQUNBLFFBQUFMLFFBQUFNLEdBQUEsTUFBQVQsTUFBQUMsSUFBQUQsS0FBQUcsU0FBQU0sR0FKQSxHQUFBQyxXQUFBQyxTQUFBQyxjQUFBLGNBR0FDLE9BQUEsU0FB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RUFBQUwsS0FBQSxLQUNBSyxFQUFBZCxJQUFBRSxNQUFBVSxJQUFBRSxFQUFBSixLQUFBLE1BRUEsS0FFQWYsU0FBQWtDLGlCQUFBLFFBQUEsU0FBQUMsR0FFQUgsR0FBQSxFQUNBYixFQUFBSCxLQUFBLEVBQ0FHLEVBQUFVLEtBQUEsRUFDQVUsY0FBQUQsUUFDQSxLQUNBLEtBS0FmLE9BQUEsR0FBQUssT0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUNBTCxRQUFBTyxPQUFBLEdBQUEsR0FBQSxHQUFBLElBRUFQLE9BQUFuQixTQUNBbUIsT0FBQVUsTUNwR0EsS0FBQSxHQTlCQU8sVUFBQSxTQUFBOUMsRUFBQUUsRUFBQWtCLEVBQUFDLEdBRUFaLEtBQUFFLElBQ0FGLEtBQUFULE1BQUFBLEVBQ0FTLEtBQUFQLE9BQUFGLEVBQ0FTLEtBQUFXLEtBQUExQixVQUNBZSxLQUFBWSxLQUFBcEIsVUFFQVEsS0FBQUMsT0FBQSxXQUVBRCxLQUFBRSxJQUFBTCxTQUFBTSxjQUFBLE9BQ0FILEtBQUFFLElBQUFHLFVBQUFDLElBQUEsWUFDQU4sS0FBQUUsSUFBQUUsTUFBQWIsTUFBQVMsS0FBQVQsTUFBQSxLQUNBUyxLQUFBRSxJQUFBRSxNQUFBWCxPQUFBTyxLQUFBUCxPQUFBLEtBQ0FPLEtBQUFFLElBQUFFLE1BQUFVLElBQUFkLEtBQUFZLEtBQUEsS0FDQVosS0FBQUUsSUFBQUUsTUFBQVcsS0FBQWYsS0FBQVcsS0FBQSxLQUVBZixVQUFBRSxjQUFBLFdBQ0FTLFlBQUFQLEtBQUFFLE1BRUFGLEtBQUFzQyxPQUFBLFdBRUF0QyxLQUFBVCxRQVFBZ0MsRUFBQSxFQUFBQSxFQUFBLEVBQUFBLElBQ0EsQ0FDQSxHQUFBZ0IsV0FBQSxHQUFBRixVQUFBLElBQUEsSUFBQXBELFVBQUFPLFVBQ0ErQyxXQUFBdEMiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcblxuLy8gQ3JlYXRlIGNhbnZhcyBvYmplY3RcbnZhciBjYW52YXMgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2NhbnZhcycpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbn1cbi8vIE5ldyBjYW52YXNcbnZhciBjYW52YXMxID0gbmV3IGNhbnZhcyAoMTIwMCwgNTAwKTtcbmNhbnZhczEuY3JlYXRlKCk7XG4iLCIvLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIGNoZWVzZXMgPSBbXTtcbnZhciBzY29yZSA9IDA7XG52YXIgY2hlZXNlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcG9zWCwgcG9zWSwgc3BlZWQpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpclg7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB0aGlzLmRpdjtcbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdjaGVlc2UnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG4gICAgdGhpcy5hZGQgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBhZGQgPSB7fTtcbiAgICAgICAgYWRkLnBvc1kgPSBfdGhpcy5wb3NZO1xuICAgICAgICBjaGVlc2VzLnB1c2goYWRkKTtcbiAgICB9XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKF90aGlzLnBvc1ggPD0gLSAxMDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aDtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggLT0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLmxlZnQgPSBfdGhpcy5wb3NYICsgJ3B4JztcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXYuc3R5bGUudG9wID0gX3RoaXMucG9zWSArICdweCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBtb3VzZTEucG9zWSAtIG1vdXNlMS5oZWlnaHQvMiA8IF90aGlzLnBvc1kgJiZcbiAgICAgICAgICAgICAgICBtb3VzZTEucG9zWSArIG1vdXNlMS5oZWlnaHQvMiA+IF90aGlzLnBvc1kgJiZcbiAgICAgICAgICAgICAgICBtb3VzZTEucG9zWCAtIG1vdXNlMS53aWR0aC8yIDwgX3RoaXMucG9zWCAmJlxuICAgICAgICAgICAgICAgIG1vdXNlMS5wb3NYICsgbW91c2UxLndpZHRoLzIgPiBfdGhpcy5wb3NYXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aDtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuICAgICAgICAgICAgICAgIHNjb3JlICs9IDE7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Njb3JlOiAnICsgc2NvcmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sIDMwKVxuICAgIH1cbn1cblxuLy8gQ3JlYXRlIGNoZWVzZXMgYXJyYXlcblxuXG5cbmZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKVxue1xuICAgIHZhciBjaGVlc2UxID0gbmV3IGNoZWVzZSAoIDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCksIHJhbmRvbSgxMikgKTtcbiAgICBjaGVlc2UxLmNyZWF0ZSgpO1xuICAgIGNoZWVzZTEuYWRkKCk7XG59XG5cbi8vIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlZXNlcy5sZW5ndGggLSAxOyBpKyspXG4vLyB7XG4vLyAgICAgaWYgKGNoZWVzZXNbaV0ucG9zWSA8IChjaGVlc2VzW2krMV0ucG9zWSArIGNoZWVzZTEuaGVpZ2h0ICogMikpXG4vLyAgICAge1xuLy8gICAgICAgICBjaGVlc2VzW2ldLnBvc1kgPSByYW5kb21ZKClcbi8vICAgICAgICAgY2hlZXNlc1tpKzFdLnBvc1kgPSByYW5kb21ZKClcbi8vICAgICB9XG4vLyAgICAgZWxzZVxuLy8gICAgIHtcbi8vXG4vLyAgICAgfVxuLy8gfVxuIiwiLy8gQ3JlYXRlIG1vdXNlIG9iamVjdFxudmFyIG1vdXNlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcG9zWCwgcG9zWSwgc3BlZWQsIGRpclgsIGRpclkpXG57XG4gICAgLy8gUHJvcHJpZXRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB0aGlzLmRpclggPSAwO1xuICAgIHRoaXMuZGlyWSA9IDA7XG5cbiAgICB0aGlzLmNyb3NzID0gbmV3IEFycmF5KCk7XG4gICAgdGhpcy5kaXY7XG5cbiAgICB2YXIgaXNQcmVzc2VkID0gZmFsc2U7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdtb3VzZScsICdkaXI5MCcpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbiAgICB0aGlzLm1vdmUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldmVudClcbiAgICAgICAge1xuXG4gICAgICAgICAgICAvLyBpZiAoZXZlbnQua2V5Q29kZSA9PSBfdGhpcy5jcm9zc1swXSAmJiBfdGhpcy5jcm9zc1sxXSlcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXJYID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWSA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyNDVcIjtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gX3RoaXMuY3Jvc3NbMV0gJiYgX3RoaXMuY3Jvc3NbMl0pXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWCA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpclkgPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMTM1XCI7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IF90aGlzLmNyb3NzWzJdICYmIF90aGlzLmNyb3NzWzNdKVxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpclggPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWSA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIyMjVcIjtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gX3RoaXMuY3Jvc3NbM10gJiYgX3RoaXMuY3Jvc3NbNF0pXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWCA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXJZID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpdi5jbGFzc05hbWUgPSBcIm1vdXNlIGRpcjMxNVwiO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IF90aGlzLmNyb3NzWzBdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF90aGlzLmRpclkgPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gX3RoaXMuY3Jvc3NbMV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGlyWCA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXI5MFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSBfdGhpcy5jcm9zc1syXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXJZID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjE4MFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSBfdGhpcy5jcm9zc1szXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXJYID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWUgPSBcIm1vdXNlIGRpcjI3MFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIGlzUHJlc3NlZCA9PSBmYWxzZSApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXNQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb29wID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wb3NYIDw9IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1ggPj0gY2FudmFzMS53aWR0aC1fdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICs9IF90aGlzLmRpclg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucG9zWSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5wb3NZID49IGNhbnZhczEuaGVpZ2h0LV90aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IGNhbnZhczEuaGVpZ2h0LSBfdGhpcy5oZWlnaHQgLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArPSBfdGhpcy5kaXJZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS5sZWZ0PSBfdGhpcy5wb3NYICtcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICtcInB4XCI7XG5cbiAgICAgICAgICAgICAgICB9LCAxMCApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihldmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1ByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXJYID0gMDtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXJZID0gMDtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGxvb3ApO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxufVxuXG4vLyBOZXcgbW91c2VcbnZhciBtb3VzZTEgPSBuZXcgbW91c2UgKDcwLCA3MCwgMjAsIDIwLCAyLCAwLCAwKTtcbm1vdXNlMS5jcm9zcyA9IFszOCwzOSw0MCwzN107XG5cbm1vdXNlMS5jcmVhdGUoKTtcbm1vdXNlMS5tb3ZlKCk7XG4iLCJ2YXIgb2JzdGFjbGUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZKVxue1xuICAgIHRoaXMuZGl2O1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHdpZHRoO1xuICAgIHRoaXMucG9zWCA9IHJhbmRvbVgoKTtcbiAgICB0aGlzLnBvc1kgPSByYW5kb21ZKCk7XG5cbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ29ic3RhY2xlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMubWFyZ2luID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggKSB7XG5cbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5cbmZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKVxue1xuICAgIHZhciBvYnN0YWNsZTEgPSBuZXcgb2JzdGFjbGUoIDEwMCwgMTAwLCByYW5kb21YKCksIHJhbmRvbVkoKSApXG4gICAgb2JzdGFjbGUxLmNyZWF0ZSgpO1xufVxuIl19
