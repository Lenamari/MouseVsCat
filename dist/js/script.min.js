function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(t){return Math.abs(Math.random()*t)+3}function random(t){return Math.abs(Math.random()*t)}var body=document.querySelector("body"),container=document.querySelector(".container"),scoreDiv=container.querySelector(".score > span"),score=0,canvas=function(t,e){this.width=t,this.height=e,this.div,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();var blackOut=function(){this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("black-out"),body.appendChild(this.div)},this.remove=function(){this.div.remove()}},obstacles=[],obstacle=function(t,e,s,i){this.div,this.width=t,this.height=t,this.posX=randomX(),this.posY=randomY(),this.create=function(){obstacles.push(this),this.div=document.createElement("div"),this.div.classList.add("obstacle"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},obstacle1=new obstacle(50,50,100,100);obstacle1.create();for(var cheeses=[],cheesesTotal=10,cheese=function(t,e,s,i){this.width=t,this.height=e,this.dirX,this.posX=s,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<cheesesTotal;i++){var cheese1=new cheese(50,50,randomX(),randomY());cheeses.push(cheese1),cheese1.create()}for(var rottenCheeses=[],rottenTotal=7,rottenCheese=function(t,e,s,i){this.width=t,this.height=e,this.dirX,this.posX=s,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("rotten-cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<rottenTotal;i++){var rottenCheese1=new rottenCheese(50,50,randomX(),randomY());rottenCheeses.push(rottenCheese1),rottenCheese1.create()}for(var wines=[],winesTotal=7,wine=function(t,e,s,i){this.width=t,this.height=e,this.dirX,this.posX=s,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("wine"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},i=0;i<winesTotal;i++){var wine1=new wine(50,50,randomX(),randomY());wines.push(wine1),wine1.create()}scoreTimeout=!0,leftMov=!0,upMov=!0,rightMov=!0,downMov=!0;var mouse=function(t,e,s,i,h,o,d){this.width=t,this.height=e,this.posX=s,this.posY=i,this.speed=h,this.dirX=0,this.dirY=0,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var t,e,s,i,h=this,o=!1;document.addEventListener("keydown",function(d){switch(d.keyCode){case 37:1==leftMov&&(t=!0,h.dirX=-h.speed,h.div.className="mouse dir270");break;case 38:1==upMov&&(e=!0,h.dirY=-h.speed,h.div.className="mouse dir0");break;case 39:1==rightMov&&(s=!0,h.dirX=h.speed,h.div.className="mouse dir90");break;case 40:1==downMov&&(i=!0,h.dirY=h.speed,h.div.className="mouse dir180")}0==o&&(o=!0,loop=setInterval(function(){h.posX<=0?h.posX=1:h.posX>=canvas1.width-h.width?h.posX=canvas1.width-h.width-1:h.posX+=h.dirX,h.posY<=0?h.posY=1:h.posY>=canvas1.height-h.height?h.posY=canvas1.height-h.height-1:h.posY+=h.dirY,h.posY-h.height/2<obstacle1.posY&&h.posY+h.height/2>obstacle1.posY&&h.posX-h.width/2<obstacle1.posX&&h.posX+h.width/2>obstacle1.posX?t?rightMov=!1:e?downMov=!1:s?lefttMov=!1:i&&(upMov=!1):(leftMov=!0,upMov=!0,rightMov=!0,downMov=!0);for(var o=0;o<=cheeses.length-1;o++)h.posY-h.height/2<cheeses[o].posY&&h.posY+h.height/2>cheeses[o].posY&&h.posX-h.width/2<cheeses[o].posX&&h.posX+h.width/2>cheeses[o].posX&&(cheeses[o].update(),score+=1,scoreDiv.innerHTML=score);for(var o=0;o<=rottenCheeses.length-1;o++)if(h.posY-h.height<rottenCheeses[o].posY&&h.posY+h.height>rottenCheeses[o].posY&&h.posX-h.width<rottenCheeses[o].posX&&h.posX+h.width>rottenCheeses[o].posX){rottenCheeses[o].update(),score<=0?score=0:score-=1,scoreDiv.innerHTML=score;var d=new blackOut;d.create(),setTimeout(function(){d.remove()},5e3)}h.div.style.left=h.posX+"px",h.div.style.top=h.posY+"px"},50))}),document.addEventListener("keyup",function(t){o=!1,h.dirX=0,h.dirY=0,clearInterval(loop)},!1)}},mouse1=new mouse(50,50,20,200,15,0,0);mouse1.create(),mouse1.move();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhcy5qcyIsIm9ic3RhY2xlLmpzIiwiY2hlZXNlLmpzIiwicm90dGVuQ2hlZXNlLmpzIiwid2luZS5qcyIsIm1vdXNlLmpzIl0sIm5hbWVzIjpbInJhbmRvbVgiLCJNYXRoIiwiYWJzIiwiZmxvb3IiLCJyYW5kb20iLCJjYW52YXMxIiwid2lkdGgiLCJyYW5kb21ZIiwiaGVpZ2h0Iiwic3BlZWQiLCJudW1iZXIiLCJib2R5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGFpbmVyIiwic2NvcmVEaXYiLCJzY29yZSIsImNhbnZhcyIsInRoaXMiLCJkaXYiLCJjcmVhdGUiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImJsYWNrT3V0IiwicmVtb3ZlIiwib2JzdGFjbGVzIiwib2JzdGFjbGUiLCJwb3NYIiwicG9zWSIsInB1c2giLCJ0b3AiLCJsZWZ0Iiwib2JzdGFjbGUxIiwiY2hlZXNlcyIsImNoZWVzZXNUb3RhbCIsImNoZWVzZSIsImRpclgiLCJ1cGRhdGUiLCJpIiwiY2hlZXNlMSIsInJvdHRlbkNoZWVzZXMiLCJyb3R0ZW5Ub3RhbCIsInJvdHRlbkNoZWVzZSIsInJvdHRlbkNoZWVzZTEiLCJ3aW5lcyIsIndpbmVzVG90YWwiLCJ3aW5lIiwid2luZTEiLCJzY29yZVRpbWVvdXQiLCJsZWZ0TW92IiwidXBNb3YiLCJyaWdodE1vdiIsImRvd25Nb3YiLCJtb3VzZSIsImRpclkiLCJtb3ZlIiwibGVmdFByZXNzZWQiLCJ1cFByZXNzZWQiLCJyaWdodFByZXNzZWQiLCJkb3duUHJlc3NlZCIsIl90aGlzIiwiaXNQcmVzc2VkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJrZXlDb2RlIiwiY2xhc3NOYW1lIiwibG9vcCIsInNldEludGVydmFsIiwibGVmdHRNb3YiLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJibGFja091dDEiLCJzZXRUaW1lb3V0IiwiZXZlbnQiLCJjbGVhckludGVy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QyxFQUFBakMsS0FBQWlDLEVBQUF6RCxNQUFBcUMsY0FBQUYsR0FBQVgsS0FFQSxDQUNBYSxjQUFBRixHQUFBRCxTQUNBeEIsT0FBQSxFQUFBQSxNQUFBLEVBQUFBLE9BQUEsRUFDQUQsU0FBQTBELFVBQUF6RCxLQUVBLElBQUEwRCxHQUFBLEdBQUFoRCxTQUNBZ0QsR0FBQXRELFNBQ0F1RCxXQUFBLFdBRUFELEVBQUEvQyxVQUNBLEtBS0FvQyxFQUFBNUMsSUFBQUcsTUFBQVksS0FBQTZCLEVBQUFqQyxLQUFBLEtBQ0FpQyxFQUFBNUMsSUFBQUcsTUFBQVcsSUFBQThCLEVBQUFoQyxLQUFBLE1BRUEsT0FHQW5CLFNBQUFxRCxpQkFBQSxRQUFBLFNBQUFXLEdBRUFaLEdBQUEsRUFDQUQsRUFBQXhCLEtBQUEsRUFDQXdCLEVBQUFOLEtBQUEsRUFDQW9CLGNBQUFSLFFBQ0EsS0FPQVMsT0FBQSxHQUFBdEIsT0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxFQUNBc0IsUUFBQTFELFNBQ0EwRCxPQUFBcEIiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG52YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xudmFyIHNjb3JlRGl2ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zY29yZSA+IHNwYW4nKSxcbiAgICBzY29yZSA9IDA7XG5cbi8vIENyZWF0ZSBjYW52YXMgb2JqZWN0XG52YXIgY2FudmFzID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodClcbntcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdjYW52YXMnKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59XG4vLyBOZXcgY2FudmFzXG52YXIgY2FudmFzMSA9IG5ldyBjYW52YXMgKDEyMDAsIDUwMCk7XG5jYW52YXMxLmNyZWF0ZSgpO1xuXG52YXIgYmxhY2tPdXQgPSBmdW5jdGlvbigpXG57XG4gICAgdGhpcy5kaXY7XG5cbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2JsYWNrLW91dCcpO1xuICAgICAgICBib2R5LmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdi5yZW1vdmUoKTtcbiAgICB9XG59XG4iLCJ2YXIgb2JzdGFjbGVzID0gW107XG5cbnZhciBvYnN0YWNsZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgdGhpcy5kaXY7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5wb3NYID0gcmFuZG9tWCgpO1xuICAgIHRoaXMucG9zWSA9IHJhbmRvbVkoKTtcblxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgb2JzdGFjbGVzLnB1c2godGhpcyk7XG5cbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnb2JzdGFjbGUnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59XG5cbnZhciBvYnN0YWNsZTEgPSBuZXcgb2JzdGFjbGUgKDUwLCA1MCwgMTAwLCAxMDApXG5vYnN0YWNsZTEuY3JlYXRlKCk7XG4iLCJ2YXIgY2hlZXNlcyA9IFtdLFxuICAgIGNoZWVzZXNUb3RhbCA9IDEwO1xuXG4vLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIGNoZWVzZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpclg7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnY2hlZXNlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb3NYID0gcmFuZG9tWCgpO1xuICAgICAgICB0aGlzLnBvc1kgPSByYW5kb21ZKCk7XG5cbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG4gICAgfVxufVxuXG4vLyBDcmVhdGUgMTAgY2hlZXNlc1xuZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVlc2VzVG90YWw7IGkrKykge1xuICAgIHZhciBjaGVlc2UxID0gbmV3IGNoZWVzZSAoIDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICBjaGVlc2VzLnB1c2goY2hlZXNlMSk7XG4gICAgY2hlZXNlMS5jcmVhdGUoKTtcbn1cbiIsInZhciByb3R0ZW5DaGVlc2VzID0gW10sXG4gICAgcm90dGVuVG90YWwgPSA3O1xuXG4vLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIHJvdHRlbkNoZWVzZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpclg7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgncm90dGVuLWNoZWVzZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMucG9zWCA9IHJhbmRvbVgoKTtcbiAgICAgICAgdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuXG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuICAgIH1cbn1cblxuZm9yICh2YXIgaSA9IDA7IGkgPCByb3R0ZW5Ub3RhbDsgaSsrKVxue1xuICAgIHZhciByb3R0ZW5DaGVlc2UxID0gbmV3IHJvdHRlbkNoZWVzZSAoIDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICByb3R0ZW5DaGVlc2VzLnB1c2gocm90dGVuQ2hlZXNlMSk7XG4gICAgcm90dGVuQ2hlZXNlMS5jcmVhdGUoKTtcbn1cbiIsInZhciB3aW5lcyA9IFtdLFxuICAgIHdpbmVzVG90YWwgPSA3O1xuXG4vLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIHdpbmUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kaXJYO1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcbiAgICB0aGlzLmRpdjtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ3dpbmUnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59XG5cbi8vIENyZWF0ZSA3IGdsYXNzZXMgb2Ygd2luZVxuZm9yICh2YXIgaSA9IDA7IGkgPCB3aW5lc1RvdGFsOyBpKyspXG57XG4gICAgdmFyIHdpbmUxID0gbmV3IHdpbmUgKCA1MCwgNTAsIHJhbmRvbVgoKSwgcmFuZG9tWSgpICk7XG4gICAgd2luZXMucHVzaCh3aW5lMSk7XG4gICAgd2luZTEuY3JlYXRlKCk7XG59XG4iLCIvLyBDcmVhdGUgbW91c2Ugb2JqZWN0XG5zY29yZVRpbWVvdXQgPSB0cnVlO1xubGVmdE1vdiA9IHRydWU7XG51cE1vdiA9IHRydWU7XG5yaWdodE1vdiA9IHRydWU7XG5kb3duTW92ID0gdHJ1ZTtcbnZhciBtb3VzZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1ksIHNwZWVkLCBkaXJYLCBkaXJZKVxue1xuICAgIC8vIFByb3ByaWV0aWVzXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XG4gICAgdGhpcy5kaXJYID0gMDtcbiAgICB0aGlzLmRpclkgPSAwO1xuXG4gICAgdGhpcy5kaXY7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdtb3VzZScsICdkaXI5MCcpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cblxuICAgIHRoaXMubW92ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgICAgICBsZWZ0UHJlc3NlZCxcbiAgICAgICAgICAgIHVwUHJlc3NlZCxcbiAgICAgICAgICAgIHJpZ2h0UHJlc3NlZCxcbiAgICAgICAgICAgIGRvd25QcmVzc2VkLFxuICAgICAgICAgICAgaXNQcmVzc2VkID0gZmFsc2U7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0TW92ID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclggPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMjcwXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwTW92ID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwUHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXJZID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjBcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgICBpZiAocmlnaHRNb3YgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclggPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXI5MFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb3duTW92ID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25QcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclkgPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIxODBcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzUHJlc3NlZCA9PSBmYWxzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1ByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxvb3AgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sbGlzaW9uIGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucG9zWCA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1ggPj0gY2FudmFzMS53aWR0aC1fdGhpcy53aWR0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBjYW52YXMxLndpZHRoIC0gX3RoaXMud2lkdGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICs9IF90aGlzLmRpclg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnBvc1kgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5wb3NZID49IGNhbnZhczEuaGVpZ2h0LV90aGlzLmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBjYW52YXMxLmhlaWdodC0gX3RoaXMuaGVpZ2h0IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArPSBfdGhpcy5kaXJZO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBibG9ja3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodC8yIDwgb2JzdGFjbGUxLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKyBfdGhpcy5oZWlnaHQvMiA+IG9ic3RhY2xlMS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGgvMiA8IG9ic3RhY2xlMS5wb3NYICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGgvMiA+IG9ic3RhY2xlMS5wb3NYXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRQcmVzc2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0TW92ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1cFByZXNzZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bk1vdiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmlnaHRQcmVzc2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnR0TW92ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkb3duUHJlc3NlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cE1vdiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdE1vdiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cE1vdiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodE1vdiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb3duTW92ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVhdCBjaGVlc2VcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gY2hlZXNlcy5sZW5ndGggLSAxOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC0gX3RoaXMuaGVpZ2h0LzIgPCBjaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICsgX3RoaXMuaGVpZ2h0LzIgPiBjaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGgvMiA8IGNoZWVzZXNbaV0ucG9zWCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKyBfdGhpcy53aWR0aC8yID4gY2hlZXNlc1tpXS5wb3NYXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlZXNlc1tpXS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGl2LmlubmVySFRNTCA9IHNjb3JlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWF0IHJvdHRlbi1jaGVlc2VcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gcm90dGVuQ2hlZXNlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC0gX3RoaXMuaGVpZ2h0IDwgcm90dGVuQ2hlZXNlc1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArIF90aGlzLmhlaWdodCA+IHJvdHRlbkNoZWVzZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggLSBfdGhpcy53aWR0aCA8IHJvdHRlbkNoZWVzZXNbaV0ucG9zWCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKyBfdGhpcy53aWR0aCA+IHJvdHRlbkNoZWVzZXNbaV0ucG9zWFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdHRlbkNoZWVzZXNbaV0udXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPD0gMCA/IHNjb3JlID0gMCA6IHNjb3JlIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaXYuaW5uZXJIVE1MID0gc2NvcmU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tPdXQxID0gbmV3IGJsYWNrT3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhY2tPdXQxLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhY2tPdXQxLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS5sZWZ0PSBfdGhpcy5wb3NYICtcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICtcInB4XCI7XG5cbiAgICAgICAgICAgICAgICB9LCA1MCApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGV2ZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBpc1ByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLmRpclggPSAwO1xuICAgICAgICAgICAgX3RoaXMuZGlyWSA9IDA7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGxvb3ApO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG5cbn1cblxuLy8gTmV3IG1vdXNlXG52YXIgbW91c2UxID0gbmV3IG1vdXNlICg1MCwgNTAsIDIwLCAyMDAsIDE1LCAwLCAwKTtcbm1vdXNlMS5jcmVhdGUoKTtcbm1vdXNlMS5tb3ZlKCk7XG4iXX0=
