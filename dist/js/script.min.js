function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(s){return Math.abs(Math.random()*s)+3}var container=document.querySelector(".container"),canvas=function(s,e){this.width=s,this.height=e,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();var cheeses=[],length=cheeses.length=5;console.log(cheeses.length);for(var score=0,cheese=function(s,e,t,i,h){this.width=s,this.height=e,this.dirX,this.posX=t,this.posY=i,this.speed=h,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.add=function(){var s=this,e={};e.posY=s.posY,cheeses.push(e)},this.direction=function(){var s=this;setInterval(function(){s.posX<=-100?(s.posX=canvas1.width-s.width,s.posY=randomY()):(s.posX-=s.speed,s.div.style.left=s.posX+"px",s.div.style.top=s.posY+"px"),mouse1.posY-mouse1.height/2<s.posY&&mouse1.posY+mouse1.height/2>s.posY&&mouse1.posX-mouse1.width/2<s.posX&&mouse1.posX+mouse1.width/2>s.posX&&(s.posX=canvas1.width-s.width,s.posY=randomY(),score+=1)},30)}},i=0;i<cheesesLength;i++){var cheese1=new cheese(50,50,canvas1.width,randomY(),random(12));cheese1.create(),cheese1.add(),cheese1.direction()}for(var i=0;i<cheeses.length-1;i++)cheeses[i].posY<cheeses[i+1].posY+2*cheese1.height&&(cheeses[i].posY=randomY(),cheeses[i+1].posY=randomY());var mouse=function(s,e,t,i,h,o,d){this.width=s,this.height=e,this.posX=t,this.posY=i,this.speed=h,this.dirX=0,this.dirY=0,this.cross=new Array,this.div;var a=!1;this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var s=this;document.addEventListener("keydown",function(e){e.keyCode==s.cross[0]?(s.dirY=-s.speed,s.div.className="mouse dir0"):e.keyCode==s.cross[1]?(s.dirX=s.speed,s.div.className="mouse dir90"):e.keyCode==s.cross[2]?(s.dirY=s.speed,s.div.className="mouse dir180"):e.keyCode==s.cross[3]&&(s.dirX=-s.speed,s.div.className="mouse dir270"),0==a&&(a=!0,loop=setInterval(function(){s.posX<=0?s.posX=1:s.posX>=canvas1.width-s.width?s.posX=canvas1.width-s.width-1:s.posX+=s.dirX,s.posY<=0?s.posY=1:s.posY>=canvas1.height-s.height?s.posY=canvas1.height-s.height-1:s.posY+=s.dirY,s.div.style.left=s.posX+"px",s.div.style.top=s.posY+"px"},10)),document.addEventListener("keyup",function(e){a=!1,s.dirX=0,s.dirY=0,clearInterval(loop)},!1)},!1)}},mouse1=new mouse(70,70,20,20,2,0,0);mouse1.cross=[38,39,40,37],mouse1.create(),mouse1.move();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhcy5qcyIsImNoZWVzZS5qcyIsIm1vdXNlLmpzIl0sIm5hbWVzIjpbInJhbmRvbVgiLCJNYXRoIiwiYWJzIiwiZmxvb3IiLCJyYW5kb20iLCJjYW52YXMxIiwid2lkdGgiLCJyYW5kb21ZIiwiaGVpZ2h0Iiwic3BlZWQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYW52YXMiLCJ0aGlzIiwiY3JlYXRlIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJjaGVlc2VzIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsInNjb3JlIiwiY2hlZXNlIiwicG9zWCIsInBvc1kiLCJkaXJYIiwidG9wIiwibGVmdCIsIl90aGlzIiwicHVzaCIsImRpcmVjdGlvbiIsInNldEludGVydmFsIiwibW91c2UxIiwiaSIsImNoZWVzZXNMZW5ndGgiLCJjaGVlc2UxIiwibW91c2UiLCJkaXJZIiwiY3Jvc3MiLCJBcnJheSIsImlzUHJlc3NlZCIsIm1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXlDb2RlIiwiY2xhc3NOYW1lIiwibG9vcCIsImNsZWFySW50ZXJ2YWwiXSwibWFwcGluZ3MiOiJBQUNBLFFBQUFBLFdBQUEsTUFBQUMsTUFBQUMsSUFBQUQsS0FBQUUsTUFBQUYsS0FBQUcsU0FBQUMsUUFBQUMsTUFBQSxLQUNBLFFBQUFDLFdBQUEsTUFBQU4sTUFBQUMsSUFBQUQsS0FBQUUsTUFBQUYsS0FBQUcsU0FBQUMsUUFBQUcsT0FBQSxLQUNBLFFBQUFKLFFBQUFLLEdBQUEsTUFBQVIsTUFBQUMsSUFBQUQsS0FBQUcsU0FBQUssR0FBQSxFQUhBLEdBQUFDLFdBQUFDLFNBQUFDLGNBQUEsY0FHQUMsT0FBQSxTQUFBUCxFQUFBRSxHQUdBTSxLQUFBUixNQUFBQSxFQUNBUSxLQUFBTixPQUFBQSxFQUdBTSxLQUFBQyxPQUFBLFdBRUFELEtBQUFFLElBQUFMLFNBQUFNLGNBQUEsT0FDQUgsS0FBQUUsSUFBQUUsTUFBQVosTUFBQVEsS0FBQVIsTUFBQSxLQUNBUSxLQUFBRSxJQUFBRSxNQUFBVixPQUFBTSxLQUFBTixPQUFBLEtBQ0FNLEtBQUFFLElBQUFHLFVBQUFDLElBQUEsVUFDQVYsVUFBQVcsWUFBQVAsS0FBQUUsT0FJQVgsUUFBQSxHQUFBUSxRQUFBLEtBQUEsSUFDQVIsU0FBQVUsUUNwQkEsSUFBQU8sWUFDQUMsT0FBQUQsUUFBQUMsT0FBQSxDQUNBQyxTQUFBQyxJQUFBSCxRQUFBQyxPQXNFQSxLQUFBLEdBckVBRyxPQUFBLEVBQ0FDLE9BQUEsU0FBQXJCLEVBQUFFLEVBQUFvQixFQUFBQyxFQUFBcEIsR0FHQUssS0FBQVIsTUFBQUEsRUFDQVEsS0FBQU4sT0FBQUEsRUFDQU0sS0FBQWdCLEtBQ0FoQixLQUFBYyxLQUFBQSxFQUNBZCxLQUFBZSxLQUFBQSxFQUNBZixLQUFBTCxNQUFBQSxFQUNBSyxLQUFBRSxJQUVBRixLQUFBQyxPQUFBLFdBRUFELEtBQUFFLElBQUFMLFNBQUFNLGNBQUEsT0FDQUgsS0FBQUUsSUFBQUcsVUFBQUMsSUFBQSxVQUNBTixLQUFBRSxJQUFBRSxNQUFBWixNQUFBUSxLQUFBUixNQUFBLEtBQ0FRLEtBQUFFLElBQUFFLE1BQUFWLE9BQUFNLEtBQUFOLE9BQUEsS0FDQU0sS0FBQUUsSUFBQUUsTUFBQWEsSUFBQWpCLEtBQUFlLEtBQUEsS0FDQWYsS0FBQUUsSUFBQUUsTUFBQWMsS0FBQWxCLEtBQUFjLEtBQUEsS0FFQWxCLFVBQUFFLGNBQUEsV0FDQVMsWUFBQVAsS0FBQUUsTUFFQUYsS0FBQU0sSUFBQSxXQUVBLEdBQUFhLEdBQUFuQixLQUVBTSxJQUNBQSxHQUFBUyxLQUFBSSxFQUFBSixLQUNBUCxRQUFBWSxLQUFBZCxJQUVBTixLQUFBcUIsVUFBQSxXQUVBLEdBQUFGLEdBQUFuQixJQUVBc0IsYUFBQSxXQUVBSCxFQUFBTCxPQUFBLEtBRUFLLEVBQUFMLEtBQUF2QixRQUFBQyxNQUFBMkIsRUFBQTNCLE1BQ0EyQixFQUFBSixLQUFBdEIsWUFJQTBCLEVBQUFMLE1BQUFLLEVBQUF4QixNQUNBd0IsRUFBQWpCLElBQUFFLE1BQUFjLEtBQUFDLEVBQUFMLEtBQUEsS0FDQUssRUFBQWpCLElBQUFFLE1BQUFhLElBQUFFLEVBQUFKLEtBQUEsTUFJQVEsT0FBQVIsS0FBQVEsT0FBQTdCLE9BQUEsRUFBQXlCLEVBQUFKLE1BQ0FRLE9BQUFSLEtBQUFRLE9BQUE3QixPQUFBLEVBQUF5QixFQUFBSixNQUNBUSxPQUFBVCxLQUFBUyxPQUFBL0IsTUFBQSxFQUFBMkIsRUFBQUwsTUFDQVMsT0FBQVQsS0FBQVMsT0FBQS9CLE1BQUEsRUFBQTJCLEVBQUFMLE9BR0FLLEVBQUFMLEtBQUF2QixRQUFBQyxNQUFBMkIsRUFBQTNCLE1BQ0EyQixFQUFBSixLQUFBdEIsVUFDQW1CLE9BQUEsSUFHQSxNQU9BWSxFQUFBLEVBQUFBLEVBQUFDLGNBQUFELElBQ0EsQ0FDQSxHQUFBRSxTQUFBLEdBQUFiLFFBQUEsR0FBQSxHQUFBdEIsUUFBQUMsTUFBQUMsVUFBQUgsT0FBQSxJQUNBb0MsU0FBQXpCLFNBQ0F5QixRQUFBcEIsTUFDQW9CLFFBQUFMLFlBRUEsSUFBQSxHQUFBRyxHQUFBLEVBQUFBLEVBQUFoQixRQUFBQyxPQUFBLEVBQUFlLElBRUFoQixRQUFBZ0IsR0FBQVQsS0FBQVAsUUFBQWdCLEVBQUEsR0FBQVQsS0FBQSxFQUFBVyxRQUFBaEMsU0FFQWMsUUFBQWdCLEdBQUFULEtBQUF0QixVQUNBZSxRQUFBZ0IsRUFBQSxHQUFBVCxLQUFBdEIsVUNwRkEsSUFBQWtDLE9BQUEsU0FBQW5DLEVBQUFFLEVBQUFvQixFQUFBQyxFQUFBcEIsRUFBQXFCLEVBQUFZLEdBR0E1QixLQUFBUixNQUFBQSxFQUNBUSxLQUFBTixPQUFBQSxFQUNBTSxLQUFBYyxLQUFBQSxFQUNBZCxLQUFBZSxLQUFBQSxFQUNBZixLQUFBTCxNQUFBQSxFQUNBSyxLQUFBZ0IsS0FBQSxFQUNBaEIsS0FBQTRCLEtBQUEsRUFFQTVCLEtBQUE2QixNQUFBLEdBQUFDLE9BQ0E5QixLQUFBRSxHQUVBLElBQUE2QixJQUFBLENBR0EvQixNQUFBQyxPQUFBLFdBRUFELEtBQUFFLElBQUFMLFNBQUFNLGNBQUEsT0FDQUgsS0FBQUUsSUFBQUcsVUFBQUMsSUFBQSxRQUFBLFNBQ0FOLEtBQUFFLElBQUFFLE1BQUFaLE1BQUFRLEtBQUFSLE1BQUEsS0FDQVEsS0FBQUUsSUFBQUUsTUFBQVYsT0FBQU0sS0FBQU4sT0FBQSxLQUNBTSxLQUFBRSxJQUFBRSxNQUFBYSxJQUFBakIsS0FBQWUsS0FBQSxLQUNBZixLQUFBRSxJQUFBRSxNQUFBYyxLQUFBbEIsS0FBQWMsS0FBQSxLQUVBbEIsVUFBQUUsY0FBQSxXQUNBUyxZQUFBUCxLQUFBRSxNQUVBRixLQUFBZ0MsS0FBQSxXQUVBLEdBQUFiLEdBQUFuQixJQUVBSCxVQUFBb0MsaUJBQUEsVUFBQSxTQUFBQyxHQTRCQUEsRUFBQUMsU0FBQWhCLEVBQUFVLE1BQUEsSUFFQVYsRUFBQVMsTUFBQVQsRUFBQXhCLE1BQ0F3QixFQUFBakIsSUFBQWtDLFVBQUEsY0FFQUYsRUFBQUMsU0FBQWhCLEVBQUFVLE1BQUEsSUFFQVYsRUFBQUgsS0FBQUcsRUFBQXhCLE1BQ0F3QixFQUFBakIsSUFBQWtDLFVBQUEsZUFFQUYsRUFBQUMsU0FBQWhCLEVBQUFVLE1BQUEsSUFFQVYsRUFBQVMsS0FBQVQsRUFBQXhCLE1BQ0F3QixFQUFBakIsSUFBQWtDLFVBQUEsZ0JBRUFGLEVBQUFDLFNBQUFoQixFQUFBVSxNQUFBLEtBRUFWLEVBQUFILE1BQUFHLEVBQUF4QixNQUNBd0IsRUFBQWpCLElBQUFrQyxVQUFBLGdCQUdBLEdBQUFMLElBRUFBLEdBQUEsRUFDQU0sS0FBQWYsWUFBQSxXQUVBSCxFQUFBTCxNQUFBLEVBRUFLLEVBQUFMLEtBQUEsRUFFQUssRUFBQUwsTUFBQXZCLFFBQUFDLE1BQUEyQixFQUFBM0IsTUFDQTJCLEVBQUFMLEtBQUF2QixRQUFBQyxNQUFBMkIsRUFBQTNCLE1BQUEsRUFHQTJCLEVBQUFMLE1BQUFLLEVBQUFILEtBR0FHLEVBQUFKLE1BQUEsRUFFQUksRUFBQUosS0FBQSxFQUVBSSxFQUFBSixNQUFBeEIsUUFBQUcsT0FBQXlCLEVBQUF6QixPQUNBeUIsRUFBQUosS0FBQXhCLFFBQUFHLE9BQUF5QixFQUFBekIsT0FBQSxFQUdBeUIsRUFBQUosTUFBQUksRUFBQVMsS0FFQVQsRUFBQWpCLElBQUFFLE1BQUFjLEtBQUFDLEVBQUFMLEtBQUEsS0FDQUssRUFBQWpCLElBQUFFLE1BQUFhLElBQUFFLEVBQUFKLEtBQUEsTUFFQSxLQUVBbEIsU0FBQW9DLGlCQUFBLFFBQUEsU0FBQUMsR0FFQUgsR0FBQSxFQUNBWixFQUFBSCxLQUFBLEVBQ0FHLEVBQUFTLEtBQUEsRUFDQVUsY0FBQUQsUUFDQSxLQUNBLEtBS0FkLE9BQUEsR0FBQUksT0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUNBSixRQUFBTSxPQUFBLEdBQUEsR0FBQSxHQUFBLElBRUFOLE9BQUF0QixTQUNBc0IsT0FBQVMiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcblxuLy8gQ3JlYXRlIGNhbnZhcyBvYmplY3RcbnZhciBjYW52YXMgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2NhbnZhcycpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbn1cbi8vIE5ldyBjYW52YXNcbnZhciBjYW52YXMxID0gbmV3IGNhbnZhcyAoMTIwMCwgNTAwKTtcbmNhbnZhczEuY3JlYXRlKCk7XG4iLCIvLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIGNoZWVzZXMgPSBbXTtcbnZhciBsZW5ndGggPSBjaGVlc2VzLmxlbmd0aCA9IDU7XG5jb25zb2xlLmxvZyhjaGVlc2VzLmxlbmd0aCk7XG52YXIgc2NvcmUgPSAwO1xudmFyIGNoZWVzZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1ksIHNwZWVkKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kaXJYO1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XG4gICAgdGhpcy5kaXY7XG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnY2hlZXNlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMuYWRkID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgYWRkID0ge307XG4gICAgICAgIGFkZC5wb3NZID0gX3RoaXMucG9zWTtcbiAgICAgICAgY2hlZXNlcy5wdXNoKGFkZCk7XG4gICAgfVxuICAgIHRoaXMuZGlyZWN0aW9uID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wb3NYIDw9IC0gMTAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBjYW52YXMxLndpZHRoIC0gX3RoaXMud2lkdGg7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IHJhbmRvbVkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC09IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS5sZWZ0ID0gX3RoaXMucG9zWCArICdweCc7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLnRvcCA9IF90aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbW91c2UxLnBvc1kgLSBtb3VzZTEuaGVpZ2h0LzIgPCBfdGhpcy5wb3NZICYmXG4gICAgICAgICAgICAgICAgbW91c2UxLnBvc1kgKyBtb3VzZTEuaGVpZ2h0LzIgPiBfdGhpcy5wb3NZICYmXG4gICAgICAgICAgICAgICAgbW91c2UxLnBvc1ggLSBtb3VzZTEud2lkdGgvMiA8IF90aGlzLnBvc1ggJiZcbiAgICAgICAgICAgICAgICBtb3VzZTEucG9zWCArIG1vdXNlMS53aWR0aC8yID4gX3RoaXMucG9zWFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBjYW52YXMxLndpZHRoIC0gX3RoaXMud2lkdGg7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IHJhbmRvbVkoKTtcbiAgICAgICAgICAgICAgICBzY29yZSArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sIDMwKVxuICAgIH1cbn1cblxuLy8gQ3JlYXRlIGNoZWVzZXMgYXJyYXlcblxuXG5mb3IgKHZhciBpID0gMDsgaSA8IGNoZWVzZXNMZW5ndGg7IGkrKylcbntcbiAgICB2YXIgY2hlZXNlMSA9IG5ldyBjaGVlc2UgKCA1MCwgNTAsIGNhbnZhczEud2lkdGgsIHJhbmRvbVkoKSwgcmFuZG9tKDEyKSApO1xuICAgIGNoZWVzZTEuY3JlYXRlKCk7XG4gICAgY2hlZXNlMS5hZGQoKTtcbiAgICBjaGVlc2UxLmRpcmVjdGlvbigpO1xufVxuZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVlc2VzLmxlbmd0aCAtIDE7IGkrKylcbntcbiAgICBpZiAoY2hlZXNlc1tpXS5wb3NZIDwgKGNoZWVzZXNbaSsxXS5wb3NZICsgY2hlZXNlMS5oZWlnaHQgKiAyKSlcbiAgICB7XG4gICAgICAgIGNoZWVzZXNbaV0ucG9zWSA9IHJhbmRvbVkoKVxuICAgICAgICBjaGVlc2VzW2krMV0ucG9zWSA9IHJhbmRvbVkoKVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuXG4gICAgfVxufVxuIiwiLy8gQ3JlYXRlIG1vdXNlIG9iamVjdFxudmFyIG1vdXNlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcG9zWCwgcG9zWSwgc3BlZWQsIGRpclgsIGRpclkpXG57XG4gICAgLy8gUHJvcHJpZXRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB0aGlzLmRpclggPSAwO1xuICAgIHRoaXMuZGlyWSA9IDA7XG5cbiAgICB0aGlzLmNyb3NzID0gbmV3IEFycmF5KCk7XG4gICAgdGhpcy5kaXY7XG5cbiAgICB2YXIgaXNQcmVzc2VkID0gZmFsc2U7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdtb3VzZScsICdkaXI5MCcpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbiAgICB0aGlzLm1vdmUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldmVudClcbiAgICAgICAge1xuXG4gICAgICAgICAgICAvLyBpZiAoZXZlbnQua2V5Q29kZSA9PSBfdGhpcy5jcm9zc1swXSAmJiBfdGhpcy5jcm9zc1sxXSlcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXJYID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWSA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyNDVcIjtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gX3RoaXMuY3Jvc3NbMV0gJiYgX3RoaXMuY3Jvc3NbMl0pXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWCA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpclkgPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMTM1XCI7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IF90aGlzLmNyb3NzWzJdICYmIF90aGlzLmNyb3NzWzNdKVxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpclggPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWSA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIyMjVcIjtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gX3RoaXMuY3Jvc3NbM10gJiYgX3RoaXMuY3Jvc3NbNF0pXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWCA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXJZID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpdi5jbGFzc05hbWUgPSBcIm1vdXNlIGRpcjMxNVwiO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IF90aGlzLmNyb3NzWzBdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF90aGlzLmRpclkgPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gX3RoaXMuY3Jvc3NbMV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGlyWCA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXI5MFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSBfdGhpcy5jcm9zc1syXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXJZID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjE4MFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSBfdGhpcy5jcm9zc1szXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXJYID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWUgPSBcIm1vdXNlIGRpcjI3MFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIGlzUHJlc3NlZCA9PSBmYWxzZSApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXNQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb29wID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wb3NYIDw9IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1ggPj0gY2FudmFzMS53aWR0aC1fdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICs9IF90aGlzLmRpclg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucG9zWSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5wb3NZID49IGNhbnZhczEuaGVpZ2h0LV90aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IGNhbnZhczEuaGVpZ2h0LSBfdGhpcy5oZWlnaHQgLSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArPSBfdGhpcy5kaXJZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS5sZWZ0PSBfdGhpcy5wb3NYICtcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICtcInB4XCI7XG5cbiAgICAgICAgICAgICAgICB9LCAxMCApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihldmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1ByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXJYID0gMDtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXJZID0gMDtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGxvb3ApO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxufVxuXG4vLyBOZXcgbW91c2VcbnZhciBtb3VzZTEgPSBuZXcgbW91c2UgKDcwLCA3MCwgMjAsIDIwLCAyLCAwLCAwKTtcbm1vdXNlMS5jcm9zcyA9IFszOCwzOSw0MCwzN107XG5cbm1vdXNlMS5jcmVhdGUoKTtcbm1vdXNlMS5tb3ZlKCk7XG4iXX0=
