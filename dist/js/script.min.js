function choosePos(s){return Math.round(Math.random()*s)}function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(s){return Math.abs(Math.random()*s)+3}function random(s){return Math.abs(Math.random()*s)}var body=document.querySelector("body"),container=document.querySelector(".container"),scoreDiv=container.querySelector(".score > span"),score=0,canvas=function(s,t){this.width=s,this.height=t,this.div,this.positions=new Array,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();for(var blackOut=function(){this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("black-out"),body.appendChild(this.div)},this.remove=function(){this.div.remove()}},obstacles=[],obstaclesTotal=10,obstacle=function(s,t,e,i){this.div,this.width=s,this.height=t,this.posX=e,this.posY=i,this.create=function(){obstacles.push(this),this.div=document.createElement("div"),this.div.classList.add("obstacle"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},i=0;i<obstaclesTotal;i++){var obstacle1=new obstacle(50,50,randomX(),randomY());obstacles.push(obstacle1),obstacle1.create()}for(var cheeses=[],cheesesTotal=5,cheese=function(s,t,e,i){this.div,this.width=s,this.height=t,this.posX=e,this.posY=i,cheesePositions=[this.posX,this.posY,this.width,this.height],this.verification=function(){do{for(var s=!1,t=0;t<=canvas1.positions.length-1;t++)canvas1.positions[t][0]==this.posX||canvas1.positions[t][1]==this.posY?(this.posX=randomX(),this.posY=randomY(),s=!0):s=!1}while(1==s)},this.create=function(){this.verification(),this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div),canvas1.positions.push(cheesePositions)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<20;i++){var cheese1=new cheese(50,50,20,20);cheese1.create(),cheeses.push(cheese1)}for(var rottenCheeses=[],rottenTotal=3,rottenCheese=function(s,t,e,i){this.width=s,this.height=t,this.dirX,this.posX=e,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("rotten-cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<rottenTotal;i++){var rottenCheese1=new rottenCheese(50,50,randomX(),randomY());rottenCheeses.push(rottenCheese1),rottenCheese1.create()}for(var wines=[],winesTotal=7,wine=function(s,t,e,i){this.width=s,this.height=t,this.dirX,this.posX=e,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("wine"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<winesTotal;i++){var wine1=new wine(50,50,randomX(),randomY());wines.push(wine1),wine1.create()}for(var cats=[],catsTotal=6,cat=function(s,t,e){this.width=s,this.height=t,this.posX=randomX(),this.posY=randomY(),this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("cat"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.direction=function(){var s,t,e=this;position=setInterval(function(){var e=[[-1,0,1],[-1,0,1]];s=e[0][choosePos(e.length)],t=e[1][choosePos(e.length)]},1e3),move=setInterval(function(){if(e.posX<=0)e.posX=0;else if(e.posX>=canvas1.width-e.width)e.posX=canvas1.width-e.width;else switch(s){case-1:e.posX-=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir270");break;case 0:e.posX=e.posX;break;case 1:e.posX+=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir90")}if(e.posY<=0)e.posY=canvas1.height-e.height-1;else if(e.posY>=canvas1.height-e.height)e.posY=1;else switch(t){case-1:e.posY-=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir0");break;case 0:e.posY=e.posY;break;case 1:e.posY+=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir180")}e.div.style.left=e.posX+"px",e.div.style.top=e.posY+"px"},10)}},i=0;i<catsTotal;i++){var cat1=new cat(50,50,10);cats.push(cat1),cat1.create(),cat1.direction()}scoreTimeout=!0,leftMov=!0,upMov=!0,rightMov=!0,downMov=!0;var mouse=function(s,t,e,i,o,h,a){this.width=s,this.height=t,this.posX=e,this.posY=i,this.speed=o,this.dirX=0,this.dirY=0,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var s,t,e,i,o,h=this;document.addEventListener("keyup",function(a){s=!1,t=!1,e=!1,i=!1,o=!1,h.dirX=0,h.dirY=0,clearInterval(loop)},!1),document.addEventListener("keydown",function(a){switch(a.keyCode){case 37:s=!0,h.dirX=-h.speed,h.div.className="mouse dir270";break;case 38:t=!0,h.dirY=-h.speed,h.div.className="mouse dir0";break;case 39:e=!0,h.dirX=h.speed,h.div.className="mouse dir90";break;case 40:i=!0,h.dirY=h.speed,h.div.className="mouse dir180"}0==o&&(o=!0,loop=setInterval(function(){h.posX<=0?h.posX=1:h.posX>=canvas1.width-h.width?h.posX=canvas1.width-h.width-1:h.posX+=h.dirX,h.posY<=0?h.posY=1:h.posY>=canvas1.height-h.height?h.posY=canvas1.height-h.height-1:h.posY+=h.dirY;for(var o=0;o<=obstacles.length-1;o++)if(h.posX>=obstacles[o].posX-obstacles[o].width/1.5&&h.posX<=obstacles[o].posX+obstacles[o].width/1.5&&h.posY>=obstacles[o].posY-obstacles[o].height/1.5&&h.posY<=obstacles[o].posY+obstacles[o].height/1.5)switch(!0){case s:h.posX=obstacles[o].posX+h.width;break;case t:h.posY=obstacles[o].posY+h.height;break;case e:h.posX=obstacles[o].posX-h.width;break;case i:h.posY=obstacles[o].posY-h.height}for(var o=0;o<=cheeses.length-1;o++)h.posY-h.height/2<cheeses[o].posY&&h.posY+h.height/2>cheeses[o].posY&&h.posX-h.width/2<cheeses[o].posX&&h.posX+h.width/2>cheeses[o].posX&&(cheeses[o].update(),score+=1,scoreDiv.innerHTML=score);for(var o=0;o<=rottenCheeses.length-1;o++)if(h.posY-h.height<rottenCheeses[o].posY&&h.posY+h.height>rottenCheeses[o].posY&&h.posX-h.width<rottenCheeses[o].posX&&h.posX+h.width>rottenCheeses[o].posX){rottenCheeses[o].update(),score<=0?score=0:score-=1,scoreDiv.innerHTML=score;var d=new blackOut;d.create(),setTimeout(function(){d.remove()},1e3)}for(var o=0;o<=wines.length-1;o++)h.posY-h.height<wines[o].posY&&h.posY+h.height>wines[o].posY&&h.posX-h.width<wines[o].posX&&h.posX+h.width>wines[o].posX&&(wines[o].update(),score<=0?score=0:score-=1,scoreDiv.innerHTML=score,setInterval(function(){switch(!0){case s:a.keyCode=39;break;case t:a.keyCode=40;break;case e:a.keyCode=37;break;case i:a.keyCode=38}},5e3),setTimeout(function(){clearInterval()},5e3));for(var o=0;o<=cats.length-1;o++)h.posY-h.height/2<cats[o].posY&&h.posY+h.height/2>cats[o].posY&&h.posX-h.width/2<cats[o].posX&&h.posX+h.width/2>cats[o].posX&&location.reload();h.div.style.left=h.posX+"px",h.div.style.top=h.posY+"px"},10))},!1)}},mouse1=new mouse(50,50,20,200,6,0,0);mouse1.create(),mouse1.move();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdC5qcyIsImNhbnZhcy5qcyIsIm9ic3RhY2xlLmpzIiwiY2hlZXNlLmpzIiwicm90dGVuQ2hlZXNlLmpzIiwid2luZS5qcyIsIm1vdXNlLmpzIl0sIm5hbWVzIjpbImNob29zZVBvcyIsIm51bWJlciIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInJhbmRvbVgiLCJhYnMiLCJmbG9vciIsImNhbnZhczEiLCJ3aWR0aCIsInJhbmRvbVkiLCJoZWlnaHQiLCJzcGVlZCIsImJvZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250YWluZXIiLCJzY29yZURpdiIsInNjb3JlIiwiY2FudmFzIiwidGhpcyIsImRpdiIsInBvc2l0aW9ucyIsIkFycmF5IiwiY3JlYXRlIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJibGFja091dCIsInJlbW92ZSIsIm9ic3RhY2xlcyIsIm9ic3RhY2xlc1RvdGFsIiwib2JzdGFjbGUiLCJwb3NYIiwicG9zWSIsInB1c2giLCJ0b3AiLCJsZWZ0IiwiaSIsIm9ic3RhY2xlMSIsImNoZWVzZXMiLCJjaGVlc2VzVG90YWwiLCJjaGVlc2UiLCJjaGVlc2VQb3NpdGlvbnMiLCJ2ZXJpZmljYXRpb24iLCJzYW1lUG9zIiwibGVuZ3RoIiwidXBkYXRlIiwiY2hlZXNlMSIsInJvdHRlbkNoZWVzZXMiLCJyb3R0ZW5Ub3RhbCIsInJvdHRlbkNoZWVzZSIsImRpclgiLCJyb3R0ZW5DaGVlc2UxIiwid2luZXMiLCJ3aW5lc1RvdGFsIiwid2luZSIsIndpbmUxIiwiY2F0cyIsImNhdHNUb3RhbCIsImNhdCIsImRpcmVjdGlvbiIsImRpclkiLCJfdGhpcyIsInBvc2l0aW9uIiwic2V0SW50ZXJ2YWwiLCJuZXdQb3MiLCJtb3ZlIiwiY2F0MSIsInNjb3JlVGltZW91dCIsImxlZnRNb3YiLCJ1cE1vdiIsInJpZ2h0TW92IiwiZG93bk1vdiIsIm1vdXNlIiwibGVmdFByZXNzZWQiLCJ1cFByZXNzZWQiLCJyaWdodFByZXNzZWQiLCJkb3duUHJlc3NlZCIsImlzUHJlc3NlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNsZWFySW50ZXJ2YWwiLCJsb29wIiwiZSIsImtleUNvZGUiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJibGFja091dDEiLCJzZXRUaW1lb3V0IiwibG9jYXRpb24iLCJyZWxvYWQiLCJtb3VzZTEiXSwibWFwcGluZ3MiOiJBQWlHQSxRQUFBQSxXQUFBQyxHQUFBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFNBQUFILEdDaEdBLFFBQUFJLFdBQUEsTUFBQUgsTUFBQUksSUFBQUosS0FBQUssTUFBQUwsS0FBQUUsU0FBQUksUUFBQUMsTUFBQSxLQUNBLFFBQUFDLFdBQUEsTUFBQVIsTUFBQUksSUFBQUosS0FBQUssTUFBQUwsS0FBQUUsU0FBQUksUUFBQUcsT0FBQSxLQUNBLFFBQUFQLFFBQUFRLEdBQUEsTUFBQVYsTUFBQUksSUFBQUosS0FBQUUsU0FBQVEsR0FBQSxFQUNBLFFBQUFSLFFBQUFILEdBQUEsTUFBQUMsTUFBQUksSUFBQUosS0FBQUUsU0FBQUgsR0FKQSxHQUFBWSxNQUFBQyxTQUFBQyxjQUFBLFFBQ0FDLFVBQUFGLFNBQUFDLGNBQUEsY0FDQUUsU0FBQUQsVUFBQUQsY0FBQSxpQkFDQUcsTUFBQSxFQUdBQyxPQUFBLFNBQUFWLEVBQUFFLEdBR0FTLEtBQUFYLE1BQUFBLEVBQ0FXLEtBQUFULE9BQUFBLEVBQ0FTLEtBQUFDLElBQ0FELEtBQUFFLFVBQUEsR0FBQUMsT0FHQUgsS0FBQUksT0FBQSxXQUVBSixLQUFBQyxJQUFBUCxTQUFBVyxjQUFBLE9BQ0FMLEtBQUFDLElBQUFLLE1BQUFqQixNQUFBVyxLQUFBWCxNQUFBLEtBQ0FXLEtBQUFDLElBQUFLLE1BQUFmLE9BQUFTLEtBQUFULE9BQUEsS0FDQVMsS0FBQUMsSUFBQU0sVUFBQUMsSUFBQSxVQUNBWixVQUFBYSxZQUFBVCxLQUFBQyxPQUlBYixRQUFBLEdBQUFXLFFBQUEsS0FBQSxJ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QUNBNkIsRUFBQTdCLEtBQUE2QixFQUFBdEQsT0FBQSxFQUFBaUQsS0FBQXBCLEdBQUFKLE1BQ0E2QixFQUFBOUIsS0FBQThCLEVBQUF4RCxNQUFBLEVBQUFtRCxLQUFBcEIsR0FBQUwsTUFDQThCLEVBQUE5QixLQUFBOEIsRUFBQXhELE1BQUEsRUFBQW1ELEtBQUFwQixHQUFBTCxNQUdBeUQsU0FBQUMsUUFLQTVCLEdBQUE1QyxJQUFBSyxNQUFBYSxLQUFBMEIsRUFBQTlCLEtBQUEsS0FDQThCLEVBQUE1QyxJQUFBSyxNQUFBWSxJQUFBMkIsRUFBQTdCLEtBQUEsTUFFQSxPQUVBLEtBUUEwRCxPQUFBLEdBQUFsQixPQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQ0FrQixRQUFBdEUsU0FDQXNFLE9BQUF6QiIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2F0cyA9IFtdLFxuICAgIGNhdHNUb3RhbCA9IDY7XG5cbi8vIENyZWF0ZSBjaGVlc2Ugb2JqZWN0XG52YXIgY2F0ID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgc3BlZWQpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLnBvc1ggPSByYW5kb21YKCk7XG4gICAgdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuXG4gICAgdGhpcy5kaXY7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdjYXQnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGlyWCwgZGlyWTtcbiAgICAgICAgcG9zaXRpb24gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBuZXdQb3MgPSBbXG4gICAgICAgICAgICAgICAgWy0xLCAwLCAxXSxcbiAgICAgICAgICAgICAgICBbLTEsIDAsIDFdXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICBkaXJYID0gbmV3UG9zWzBdWyBjaG9vc2VQb3MobmV3UG9zLmxlbmd0aCkgXTtcbiAgICAgICAgICAgIGRpclkgPSBuZXdQb3NbMV1bIGNob29zZVBvcyhuZXdQb3MubGVuZ3RoKSBdO1xuICAgICAgICB9LDEwMDApXG4gICAgICAgIG1vdmUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wb3NYIDw9IDApXG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IDA7XG4gICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5wb3NYID49IGNhbnZhczEud2lkdGgtX3RoaXMud2lkdGgpXG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRpclgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2RpcjI3MCcsICdkaXI5MCcsICdkaXIwJywgJ2RpcjE4MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2RpcjI3MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBfdGhpcy5wb3NYO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QucmVtb3ZlKCdkaXIyNzAnLCAnZGlyOTAnLCAnZGlyMCcsICdkaXIxODAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdkaXI5MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoX3RoaXMucG9zWSA8PSAwKVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBjYW52YXMxLmhlaWdodC0gX3RoaXMuaGVpZ2h0IC0gMTtcbiAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1kgPj0gY2FudmFzMS5oZWlnaHQtX3RoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSAxO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGlyWSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LnJlbW92ZSgnZGlyMjcwJywgJ2RpcjkwJywgJ2RpcjAnLCAnZGlyMTgwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnZGlyMCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBfdGhpcy5wb3NZO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QucmVtb3ZlKCdkaXIyNzAnLCAnZGlyOTAnLCAnZGlyMCcsICdkaXIxODAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdkaXIxODAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLmxlZnQgPSBfdGhpcy5wb3NYICsgJ3B4JztcbiAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgfSwgMTApXG4gICAgfVxufVxuZnVuY3Rpb24gY2hvb3NlUG9zKG51bWJlcikgeyByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogbnVtYmVyKSB9XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgY2F0c1RvdGFsOyBpKyspXG57XG4gICAgdmFyIGNhdDEgPSBuZXcgY2F0ICggNTAsIDUwLCAxMCApO1xuICAgIGNhdHMucHVzaChjYXQxKTtcbiAgICBjYXQxLmNyZWF0ZSgpO1xuICAgIGNhdDEuZGlyZWN0aW9uKCk7XG59XG4iLCJ2YXIgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbnZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XG52YXIgc2NvcmVEaXYgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnNjb3JlID4gc3BhbicpLFxuICAgIHNjb3JlID0gMDtcblxuLy8gQ3JlYXRlIGNhbnZhcyBvYmplY3RcbnZhciBjYW52YXMgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kaXY7XG4gICAgdGhpcy5wb3NpdGlvbnMgPSBuZXcgQXJyYXkoKTtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxufVxuLy8gTmV3IGNhbnZhc1xudmFyIGNhbnZhczEgPSBuZXcgY2FudmFzICgxMjAwLCA1MDApO1xuY2FudmFzMS5jcmVhdGUoKTtcblxuLy8gQmxhY2tvdXRcbnZhciBibGFja091dCA9IGZ1bmN0aW9uKClcbntcbiAgICB0aGlzLmRpdjtcblxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnYmxhY2stb3V0Jyk7XG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2LnJlbW92ZSgpO1xuICAgIH1cbn1cbiIsInZhciBvYnN0YWNsZXMgPSBbXSxcbiAgICBvYnN0YWNsZXNUb3RhbCA9IDEwO1xuXG52YXIgb2JzdGFjbGUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZKVxue1xuICAgIHRoaXMuZGl2O1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG5cbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIG9ic3RhY2xlcy5wdXNoKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ29ic3RhY2xlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxufVxuXG5mb3IgKHZhciBpID0gMDsgaSA8IG9ic3RhY2xlc1RvdGFsOyBpKyspIHtcbiAgICB2YXIgb2JzdGFjbGUxID0gbmV3IG9ic3RhY2xlICg1MCwgNTAsIHJhbmRvbVgoKSwgcmFuZG9tWSgpICk7XG4gICAgb2JzdGFjbGVzLnB1c2gob2JzdGFjbGUxKTtcbiAgICBvYnN0YWNsZTEuY3JlYXRlKCk7XG59XG4iLCJ2YXIgY2hlZXNlcyA9IFtdLFxuICAgIGNoZWVzZXNUb3RhbCA9IDU7XG5cbi8vIENyZWF0ZSBjaGVlc2Ugb2JqZWN0XG52YXIgY2hlZXNlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcG9zWCwgcG9zWSlcbntcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy5kaXY7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuXG4gICAgY2hlZXNlUG9zaXRpb25zID0gW3RoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodF07XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy52ZXJpZmljYXRpb24gPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICBkb1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc2FtZVBvcyA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gY2FudmFzMS5wb3NpdGlvbnMubGVuZ3RoIC0xIDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmXG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICBjYW52YXMxLnBvc2l0aW9uc1tpXVswXSA9PSB0aGlzLnBvc1ggfHwgY2FudmFzMS5wb3NpdGlvbnNbaV1bMV0gPT0gdGhpcy5wb3NZXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NYID0gcmFuZG9tWCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc1kgPSByYW5kb21ZKCk7XG4gICAgICAgICAgICAgICAgICAgIHNhbWVQb3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzYW1lUG9zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChzYW1lUG9zID09IHRydWUpO1xuICAgIH1cbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMudmVyaWZpY2F0aW9uKCk7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2NoZWVzZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuXG4gICAgICAgIGNhbnZhczEucG9zaXRpb25zLnB1c2goY2hlZXNlUG9zaXRpb25zKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLnBvc1ggPSByYW5kb21YKCk7XG4gICAgICAgIHRoaXMucG9zWSA9IHJhbmRvbVkoKTtcblxuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcbiAgICB9XG59XG5cbi8vIENyZWF0ZSAxMCBjaGVlc2VzXG5mb3IgKHZhciBpID0gMDsgaSA8IDIwOyBpKyspXG57XG4gICAgdmFyIGNoZWVzZTEgPSBuZXcgY2hlZXNlICggNTAsIDUwLCAyMCwgMjAgKTtcbiAgICBjaGVlc2UxLmNyZWF0ZSgpO1xuICAgIGNoZWVzZXMucHVzaChjaGVlc2UxKTtcbn1cbiIsInZhciByb3R0ZW5DaGVlc2VzID0gW10sXG4gICAgcm90dGVuVG90YWwgPSAzO1xuXG4vLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIHJvdHRlbkNoZWVzZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpclg7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgncm90dGVuLWNoZWVzZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMucG9zWCA9IHJhbmRvbVgoKTtcbiAgICAgICAgdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuXG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuICAgIH1cbn1cblxuZm9yICh2YXIgaSA9IDA7IGkgPCByb3R0ZW5Ub3RhbDsgaSsrKVxue1xuICAgIHZhciByb3R0ZW5DaGVlc2UxID0gbmV3IHJvdHRlbkNoZWVzZSAoIDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICByb3R0ZW5DaGVlc2VzLnB1c2gocm90dGVuQ2hlZXNlMSk7XG4gICAgcm90dGVuQ2hlZXNlMS5jcmVhdGUoKTtcbn1cbiIsInZhciB3aW5lcyA9IFtdLFxuICAgIHdpbmVzVG90YWwgPSA3O1xuXG4vLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIHdpbmUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kaXJYO1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcbiAgICB0aGlzLmRpdjtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ3dpbmUnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLnBvc1ggPSByYW5kb21YKCk7XG4gICAgICAgIHRoaXMucG9zWSA9IHJhbmRvbVkoKTtcblxuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcbiAgICB9XG59XG5cbi8vIENyZWF0ZSA3IGdsYXNzZXMgb2Ygd2luZVxuZm9yICh2YXIgaSA9IDA7IGkgPCB3aW5lc1RvdGFsOyBpKyspXG57XG4gICAgdmFyIHdpbmUxID0gbmV3IHdpbmUgKCA1MCwgNTAsIHJhbmRvbVgoKSwgcmFuZG9tWSgpICk7XG4gICAgd2luZXMucHVzaCh3aW5lMSk7XG4gICAgd2luZTEuY3JlYXRlKCk7XG59XG4iLCIvLyBDcmVhdGUgbW91c2Ugb2JqZWN0XG5zY29yZVRpbWVvdXQgPSB0cnVlO1xubGVmdE1vdiA9IHRydWU7XG51cE1vdiA9IHRydWU7XG5yaWdodE1vdiA9IHRydWU7XG5kb3duTW92ID0gdHJ1ZTtcblxudmFyIG1vdXNlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcG9zWCwgcG9zWSwgc3BlZWQsIGRpclgsIGRpclkpXG57XG4gICAgLy8gUHJvcHJpZXRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB0aGlzLmRpclggPSAwO1xuICAgIHRoaXMuZGlyWSA9IDA7XG5cbiAgICB0aGlzLmRpdjtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ21vdXNlJywgJ2RpcjkwJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuXG4gICAgdGhpcy5tb3ZlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgbGVmdFByZXNzZWQsXG4gICAgICAgIHVwUHJlc3NlZCxcbiAgICAgICAgcmlnaHRQcmVzc2VkLFxuICAgICAgICBkb3duUHJlc3NlZCxcbiAgICAgICAgaXNQcmVzc2VkO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oZXZlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxlZnRQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB1cFByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJpZ2h0UHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZG93blByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlzUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMuZGlyWCA9IDA7XG4gICAgICAgICAgICBfdGhpcy5kaXJZID0gMDtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobG9vcCk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICAgICAgICAgIGxlZnRQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlyWCA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjI3MFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICB1cFByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXJZID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgICByaWdodFByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXJYID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXI5MFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICBkb3duUHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclkgPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjE4MFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1ByZXNzZWQgPT0gZmFsc2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXNQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb29wID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBjYW52YXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnBvc1ggPD0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5wb3NYID49IGNhbnZhczEud2lkdGgtX3RoaXMud2lkdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gY2FudmFzMS53aWR0aCAtIF90aGlzLndpZHRoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCArPSBfdGhpcy5kaXJYO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wb3NZIDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucG9zWSA+PSBjYW52YXMxLmhlaWdodC1fdGhpcy5oZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gY2FudmFzMS5oZWlnaHQtIF90aGlzLmhlaWdodCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKz0gX3RoaXMuZGlyWTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb2xsaXNpb24gb2JzdGFjbGVzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IG9ic3RhY2xlcy5sZW5ndGggLSAxOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID49IG9ic3RhY2xlc1tpXS5wb3NYIC0gb2JzdGFjbGVzW2ldLndpZHRoLzEuNSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPD0gb2JzdGFjbGVzW2ldLnBvc1ggKyBvYnN0YWNsZXNbaV0ud2lkdGgvMS41ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA+PSBvYnN0YWNsZXNbaV0ucG9zWSAtIG9ic3RhY2xlc1tpXS5oZWlnaHQvMS41ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA8PSBvYnN0YWNsZXNbaV0ucG9zWSArIG9ic3RhY2xlc1tpXS5oZWlnaHQvMS41XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBsZWZ0UHJlc3NlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBvYnN0YWNsZXNbaV0ucG9zWCArIF90aGlzLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgdXBQcmVzc2VkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IG9ic3RhY2xlc1tpXS5wb3NZICsgX3RoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcmlnaHRQcmVzc2VkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IG9ic3RhY2xlc1tpXS5wb3NYIC0gX3RoaXMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBkb3duUHJlc3NlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBvYnN0YWNsZXNbaV0ucG9zWSAtIF90aGlzLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWF0IGNoZWVzZVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBjaGVlc2VzLmxlbmd0aCAtIDE7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgLSBfdGhpcy5oZWlnaHQvMiA8IGNoZWVzZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKyBfdGhpcy5oZWlnaHQvMiA+IGNoZWVzZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggLSBfdGhpcy53aWR0aC8yIDwgY2hlZXNlc1tpXS5wb3NYICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCArIF90aGlzLndpZHRoLzIgPiBjaGVlc2VzW2ldLnBvc1hcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVlc2VzW2ldLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaXYuaW5uZXJIVE1MID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBFYXQgcm90dGVuLWNoZWVzZVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSByb3R0ZW5DaGVlc2VzLmxlbmd0aCAtIDE7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgLSBfdGhpcy5oZWlnaHQgPCByb3R0ZW5DaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICsgX3RoaXMuaGVpZ2h0ID4gcm90dGVuQ2hlZXNlc1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCAtIF90aGlzLndpZHRoIDwgcm90dGVuQ2hlZXNlc1tpXS5wb3NYICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCArIF90aGlzLndpZHRoID4gcm90dGVuQ2hlZXNlc1tpXS5wb3NYXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90dGVuQ2hlZXNlc1tpXS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSA8PSAwID8gc2NvcmUgPSAwIDogc2NvcmUgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpdi5pbm5lckhUTUwgPSBzY29yZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBibGFja091dDEgPSBuZXcgYmxhY2tPdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFja091dDEuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFja091dDEucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBEcmluayB3aW5lXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHdpbmVzLmxlbmd0aCAtIDE7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgLSBfdGhpcy5oZWlnaHQgPCB3aW5lc1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArIF90aGlzLmhlaWdodCA+IHdpbmVzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGggPCB3aW5lc1tpXS5wb3NYICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCArIF90aGlzLndpZHRoID4gd2luZXNbaV0ucG9zWFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmVzW2ldLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlIDw9IDAgPyBzY29yZSA9IDAgOiBzY29yZSAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGl2LmlubmVySFRNTCA9IHNjb3JlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAobGVmdFByZXNzZWQpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUua2V5Q29kZSA9IDM5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAodXBQcmVzc2VkKTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmtleUNvZGUgPSA0MDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgKHJpZ2h0UHJlc3NlZCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5rZXlDb2RlID0gMzc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIChkb3duUHJlc3NlZCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5rZXlDb2RlID0gMzg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMDApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDb2xsaXNpb24gY2F0XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGNhdHMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodC8yIDwgY2F0c1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArIF90aGlzLmhlaWdodC8yID4gY2F0c1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCAtIF90aGlzLndpZHRoLzIgPCBjYXRzW2ldLnBvc1ggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGgvMiA+IGNhdHNbaV0ucG9zWFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS5sZWZ0PSBfdGhpcy5wb3NYICtcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICtcInB4XCI7XG5cbiAgICAgICAgICAgICAgICB9LCAxMCApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICB9XG5cblxufVxuXG4vLyBOZXcgbW91c2VcbnZhciBtb3VzZTEgPSBuZXcgbW91c2UgKDUwLCA1MCwgMjAsIDIwMCwgNiwgMCwgMCk7XG5tb3VzZTEuY3JlYXRlKCk7XG5tb3VzZTEubW92ZSgpO1xuIl19
