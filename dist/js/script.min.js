function choosePos(s){return Math.round(Math.random()*s)}function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(s){return Math.abs(Math.random()*s)+3}function random(s){return Math.abs(Math.random()*s)}var body=document.querySelector("body"),container=document.querySelector(".container"),scoreDiv=container.querySelector(".score > span"),score=0,canvas=function(s,t){this.width=s,this.height=t,this.div,this.positions=new Array,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();for(var blackOut=function(){this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("black-out"),body.appendChild(this.div)},this.remove=function(){this.div.remove()}},obstacles=[],obstaclesTotal=10,obstacle=function(s,t,i,e){this.div,this.width=s,this.height=t,this.posX=i,this.posY=e,this.create=function(){obstacles.push(this),this.div=document.createElement("div"),this.div.classList.add("obstacle"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},i=0;i<obstaclesTotal;i++){var obstacle1=new obstacle(50,50,randomX(),randomY());obstacles.push(obstacle1),obstacle1.create()}for(var cheeses=[],cheesesTotal=5,cheese=function(s,t,i,e){this.div,this.width=s,this.height=t,this.posX=i,this.posY=e,cheesePositions=[this.posX,this.posY,this.width,this.height],this.verification=function(){do{for(var s=!1,t=0;t<=canvas1.positions.length-1;t++)canvas1.positions[t][0]==this.posX||canvas1.positions[t][1]==this.posY?(this.posX=randomX(),this.posY=randomY(),s=!0):s=!1}while(1==s)},this.create=function(){this.verification(),this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div),canvas1.positions.push(cheesePositions)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<20;i++){var cheese1=new cheese(50,50,20,20);cheese1.create(),cheeses.push(cheese1)}for(var rottenCheeses=[],rottenTotal=3,rottenCheese=function(s,t,i,e){this.width=s,this.height=t,this.dirX,this.posX=i,this.posY=e,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("rotten-cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<rottenTotal;i++){var rottenCheese1=new rottenCheese(50,50,randomX(),randomY());rottenCheeses.push(rottenCheese1),rottenCheese1.create()}for(var wines=[],winesTotal=7,wine=function(s,t,i,e){this.width=s,this.height=t,this.dirX,this.posX=i,this.posY=e,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("wine"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<winesTotal;i++){var wine1=new wine(50,50,randomX(),randomY());wines.push(wine1),wine1.create()}for(var cats=[],catsTotal=6,cat=function(s,t,i){this.width=s,this.height=t,this.posX=randomX(),this.posY=randomY(),this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("cat"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.direction=function(){var s,t,i=this;position=setInterval(function(){var i=[[-1,0,1],[-1,0,1]];s=i[0][choosePos(i.length)],t=i[1][choosePos(i.length)]},2e3),move=setInterval(function(){if(i.posX<=0)i.posX=canvas1.width-i.width-1;else if(i.posX>=canvas1.width-i.width)i.posX=1;else switch(s){case-1:i.posX-=1,i.div.classList.remove("dir270","dir90","dir0","dir180"),i.div.classList.add("dir270");break;case 0:i.posX=i.posX;break;case 1:i.posX+=1,i.div.classList.remove("dir270","dir90","dir0","dir180"),i.div.classList.add("dir90")}if(i.posY<=0)i.posY=canvas1.height-i.height-1;else if(i.posY>=canvas1.height-i.height)i.posY=1;else switch(t){case-1:i.posY-=1,i.div.classList.remove("dir270","dir90","dir0","dir180"),i.div.classList.add("dir0");break;case 0:i.posY=i.posY;break;case 1:i.posY+=1,i.div.classList.remove("dir270","dir90","dir0","dir180"),i.div.classList.add("dir180")}i.div.style.left=i.posX+"px",i.div.style.top=i.posY+"px"},10)}},i=0;i<catsTotal;i++){var cat1=new cat(50,50,10);cats.push(cat1),cat1.create(),cat1.direction()}scoreTimeout=!0,leftMov=!0,upMov=!0,rightMov=!0,downMov=!0;var mouse=function(s,t,i,e,o,h,a){this.width=s,this.height=t,this.posX=i,this.posY=e,this.speed=o,this.dirX=0,this.dirY=0,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var s,t,i,e,o,h=this;document.addEventListener("keydown",function(a){switch(a.keyCode){case 37:s=!0,h.dirX=-h.speed,h.div.className="mouse dir270";break;case 38:t=!0,h.dirY=-h.speed,h.div.className="mouse dir0";break;case 39:i=!0,h.dirX=h.speed,h.div.className="mouse dir90";break;case 40:e=!0,h.dirY=h.speed,h.div.className="mouse dir180"}0==o&&(o=!0,loop=setInterval(function(){h.posX<=0?h.posX=1:h.posX>=canvas1.width-h.width?h.posX=canvas1.width-h.width-1:h.posX+=h.dirX,h.posY<=0?h.posY=1:h.posY>=canvas1.height-h.height?h.posY=canvas1.height-h.height-1:h.posY+=h.dirY;for(var o=0;o<=obstacles.length-1;o++)if(h.posX>=obstacles[o].posX-obstacles[o].width/1.5&&h.posX<=obstacles[o].posX+obstacles[o].width/1.5&&h.posY>=obstacles[o].posY-obstacles[o].height/1.5&&h.posY<=obstacles[o].posY+obstacles[o].height/1.5)switch(!0){case s:h.posX=obstacles[o].posX+h.width;break;case t:h.posY=obstacles[o].posY+h.height;break;case i:h.posX=obstacles[o].posX-h.width;break;case e:h.posY=obstacles[o].posY-h.height}for(var o=0;o<=cheeses.length-1;o++)h.posY-h.height/2<cheeses[o].posY&&h.posY+h.height/2>cheeses[o].posY&&h.posX-h.width/2<cheeses[o].posX&&h.posX+h.width/2>cheeses[o].posX&&(cheeses[o].update(),score+=1,scoreDiv.innerHTML=score);for(var o=0;o<=rottenCheeses.length-1;o++)if(h.posY-h.height<rottenCheeses[o].posY&&h.posY+h.height>rottenCheeses[o].posY&&h.posX-h.width<rottenCheeses[o].posX&&h.posX+h.width>rottenCheeses[o].posX){rottenCheeses[o].update(),score<=0?score=0:score-=1,scoreDiv.innerHTML=score;var a=new blackOut;a.create(),setTimeout(function(){a.remove()},1e3)}for(var o=0;o<=wines.length-1;o++)h.posY-h.height<wines[o].posY&&h.posY+h.height>wines[o].posY&&h.posX-h.width<wines[o].posX&&h.posX+h.width>wines[o].posX&&(wines[o].update(),score<=0?score=0:score-=1,scoreDiv.innerHTML=score);for(var o=0;o<=cats.length-1;o++)h.posY-h.height/2<cats[o].posY&&h.posY+h.height/2>cats[o].posY&&h.posX-h.width/2<cats[o].posX&&h.posX+h.width/2>cats[o].posX&&location.reload();h.div.style.left=h.posX+"px",h.div.style.top=h.posY+"px"},10))},!1),document.addEventListener("keyup",function(a){s=!1,t=!1,i=!1,e=!1,o=!1,h.dirX=0,h.dirY=0,clearInterval(loop)},!1)}},mouse1=new mouse(50,50,20,200,6,0,0);mouse1.create(),mouse1.move();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdC5qcyIsImNhbnZhcy5qcyIsIm9ic3RhY2xlLmpzIiwiY2hlZXNlLmpzIiwicm90dGVuQ2hlZXNlLmpzIiwid2luZS5qcyIsIm1vdXNlLmpzIl0sIm5hbWVzIjpbImNob29zZVBvcyIsIm51bWJlciIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInJhbmRvbVgiLCJhYnMiLCJmbG9vciIsImNhbnZhczEiLCJ3aWR0aCIsInJhbmRvbVkiLCJoZWlnaHQiLCJzcGVlZCIsImJvZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250YWluZXIiLCJzY29yZURpdiIsInNjb3JlIiwiY2FudmFzIiwidGhpcyIsImRpdiIsInBvc2l0aW9ucyIsIkFycmF5IiwiY3JlYXRlIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJibGFja091dCIsInJlbW92ZSIsIm9ic3RhY2xlcyIsIm9ic3RhY2xlc1RvdGFsIiwib2JzdGFjbGUiLCJwb3NYIiwicG9zWSIsInB1c2giLCJ0b3AiLCJsZWZ0IiwiaSIsIm9ic3RhY2xlMSIsImNoZWVzZXMiLCJjaGVlc2VzVG90YWwiLCJjaGVlc2UiLCJjaGVlc2VQb3NpdGlvbnMiLCJ2ZXJpZmljYXRpb24iLCJzYW1lUG9zIiwibGVuZ3RoIiwidXBkYXRlIiwiY2hlZXNlMSIsInJvdHRlbkNoZWVzZXMiLCJyb3R0ZW5Ub3RhbCIsInJvdHRlbkNoZWVzZSIsImRpclgiLCJyb3R0ZW5DaGVlc2UxIiwid2luZXMiLCJ3aW5lc1RvdGFsIiwid2luZSIsIndpbmUxIiwiY2F0cyIsImNhdHNUb3RhbCIsImNhdCIsImRpcmVjdGlvbiIsImRpclkiLCJfdGhpcyIsInBvc2l0aW9uIiwic2V0SW50ZXJ2YWwiLCJuZXdQb3MiLCJtb3ZlIiwiY2F0MSIsInNjb3JlVGltZW91dCIsImxlZnRNb3YiLCJ1cE1vdiIsInJpZ2h0TW92IiwiZG93bk1vdiIsIm1vdXNlIiwibGVmdFByZXNzZWQiLCJ1cFByZXNzZWQiLCJyaWdodFByZXNzZWQiLCJkb3duUHJlc3NlZCIsImlzUHJlc3NlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwia2V5Q29kZSIsImNsYXNzTmFtZSIsImxvb3AiLCJpbm5lckhUTUwiLCJibGFja091dDEiLCJzZXRUaW1lb3V0IiwibG9jYXRpb24iLCJyZWxvYWQiLCJldmVudCIsImNsZWFySW50ZXJ2YWwiLCJtb3VzZTEiXSwibWFwcGluZ3MiOiJBQWlHQSxRQUFBQSxXQUFBQyxHQUFBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFNBQUFILEdDaEdBLFFBQUFJLFdBQUEsTUFBQUgsTUFBQUksSUFBQUosS0FBQUssTUFBQUwsS0FBQUUsU0FBQUksUUFBQUMsTUFBQSxLQUNBLFFBQUFDLFdBQUEsTUFBQVIsTUFBQUksSUFBQUosS0FBQUssTUFBQUwsS0FBQUUsU0FBQUksUUFBQUcsT0FBQSxLQUNBLFFBQUFQLFFBQUFRLEdBQUEsTUFBQVYsTUFBQUksSUFBQUosS0FBQUUsU0FBQVEsR0FBQSxFQUNBLFFBQUFSLFFBQUFILEdBQUEsTUFBQUMsTUFBQUksSUFBQUosS0FBQUUsU0FBQUgsR0FKQSxHQUFBWSxNQUFBQyxTQUFBQyxjQUFBLFFBQ0FDLFVBQUFGLFNBQUFDLGNBQUEsY0FDQUUsU0FBQUQsVUFBQUQsY0FBQSxpQkFDQUcsTUFBQSxFQUdBQyxPQUFBLFNBQUFWLEVBQUFFLEdBR0FTLEtBQUFYLE1BQUFBLEVBQ0FXLEtBQUFULE9BQUFBLEVBQ0FTLEtBQUFDLElBQ0FELEtBQUFFLFVBQUEsR0FBQUMsT0FHQUgsS0FBQUksT0FBQSxXQUVBSixLQUFBQyxJQUFBUCxTQUFBVyxjQUFBLE9BQ0FMLEtBQUFDLElBQUFLLE1BQUFqQixNQUFBVyxLQUFBWCxNQUFBLEtBQ0FXLEtBQUFDLElBQUFLLE1BQUFmLE9BQUFTLEtBQUFULE9BQUEsS0FDQVMsS0FBQUMsSUFBQU0sVUFBQUMsSUFBQSxVQUNBWixVQUFBYSxZQUFBVCxLQUFBQyxPQUlBYixRQUFBLEdBQUFXLFFBQUEsS0FBQSxJ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R0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FoQixFQUFBWCxLQUFBLEVBQ0FXLEVBQUFELEtBQUEsRUFDQTZCLGNBQUFQLFFBQ0EsS0FLQVEsT0FBQSxHQUFBbEIsT0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUNBa0IsUUFBQXRFLFNBQ0FzRSxPQUFBekIiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNhdHMgPSBbXSxcbiAgICBjYXRzVG90YWwgPSA2O1xuXG4vLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIGNhdCA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHNwZWVkKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5wb3NYID0gcmFuZG9tWCgpO1xuICAgIHRoaXMucG9zWSA9IHJhbmRvbVkoKTtcblxuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnY2F0Jyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMuZGlyZWN0aW9uID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRpclgsIGRpclk7XG4gICAgICAgIHBvc2l0aW9uID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbmV3UG9zID0gW1xuICAgICAgICAgICAgICAgIFstMSwgMCwgMV0sXG4gICAgICAgICAgICAgICAgWy0xLCAwLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgZGlyWCA9IG5ld1Bvc1swXVsgY2hvb3NlUG9zKG5ld1Bvcy5sZW5ndGgpIF07XG4gICAgICAgICAgICBkaXJZID0gbmV3UG9zWzFdWyBjaG9vc2VQb3MobmV3UG9zLmxlbmd0aCkgXTtcbiAgICAgICAgfSwyMDAwKVxuICAgICAgICBtb3ZlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucG9zWCA8PSAwKVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBjYW52YXMxLndpZHRoIC0gX3RoaXMud2lkdGggLTEgO1xuICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucG9zWCA+PSBjYW52YXMxLndpZHRoLV90aGlzLndpZHRoKVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSAxO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGlyWClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LnJlbW92ZSgnZGlyMjcwJywgJ2RpcjkwJywgJ2RpcjAnLCAnZGlyMTgwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnZGlyMjcwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IF90aGlzLnBvc1g7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2RpcjI3MCcsICdkaXI5MCcsICdkaXIwJywgJ2RpcjE4MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2RpcjkwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5wb3NZIDw9IDApXG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IGNhbnZhczEuaGVpZ2h0LSBfdGhpcy5oZWlnaHQgLSAxO1xuICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucG9zWSA+PSBjYW52YXMxLmhlaWdodC1fdGhpcy5oZWlnaHQpXG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IDE7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChkaXJZKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QucmVtb3ZlKCdkaXIyNzAnLCAnZGlyOTAnLCAnZGlyMCcsICdkaXIxODAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdkaXIwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IF90aGlzLnBvc1k7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2RpcjI3MCcsICdkaXI5MCcsICdkaXIwJywgJ2RpcjE4MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2RpcjE4MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpcy5kaXYuc3R5bGUubGVmdCA9IF90aGlzLnBvc1ggKyAncHgnO1xuICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLnRvcCA9IF90aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB9LCAxMClcbiAgICB9XG59XG5mdW5jdGlvbiBjaG9vc2VQb3MobnVtYmVyKSB7IHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiBudW1iZXIpIH1cblxuZm9yICh2YXIgaSA9IDA7IGkgPCBjYXRzVG90YWw7IGkrKylcbntcbiAgICB2YXIgY2F0MSA9IG5ldyBjYXQgKCA1MCwgNTAsIDEwICk7XG4gICAgY2F0cy5wdXNoKGNhdDEpO1xuICAgIGNhdDEuY3JlYXRlKCk7XG4gICAgY2F0MS5kaXJlY3Rpb24oKTtcbn1cbiIsInZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xudmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbnZhciBzY29yZURpdiA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2NvcmUgPiBzcGFuJyksXG4gICAgc2NvcmUgPSAwO1xuXG4vLyBDcmVhdGUgY2FudmFzIG9iamVjdFxudmFyIGNhbnZhcyA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpdjtcbiAgICB0aGlzLnBvc2l0aW9ucyA9IG5ldyBBcnJheSgpO1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdjYW52YXMnKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59XG4vLyBOZXcgY2FudmFzXG52YXIgY2FudmFzMSA9IG5ldyBjYW52YXMgKDEyMDAsIDUwMCk7XG5jYW52YXMxLmNyZWF0ZSgpO1xuXG4vLyBCbGFja291dFxudmFyIGJsYWNrT3V0ID0gZnVuY3Rpb24oKVxue1xuICAgIHRoaXMuZGl2O1xuXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdibGFjay1vdXQnKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYucmVtb3ZlKCk7XG4gICAgfVxufVxuIiwidmFyIG9ic3RhY2xlcyA9IFtdLFxuICAgIG9ic3RhY2xlc1RvdGFsID0gMTA7XG5cbnZhciBvYnN0YWNsZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgdGhpcy5kaXY7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcblxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgb2JzdGFjbGVzLnB1c2godGhpcyk7XG5cbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnb2JzdGFjbGUnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgb2JzdGFjbGVzVG90YWw7IGkrKykge1xuICAgIHZhciBvYnN0YWNsZTEgPSBuZXcgb2JzdGFjbGUgKDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICBvYnN0YWNsZXMucHVzaChvYnN0YWNsZTEpO1xuICAgIG9ic3RhY2xlMS5jcmVhdGUoKTtcbn1cbiIsInZhciBjaGVlc2VzID0gW10sXG4gICAgY2hlZXNlc1RvdGFsID0gNTtcblxuLy8gQ3JlYXRlIGNoZWVzZSBvYmplY3RcbnZhciBjaGVlc2UgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLmRpdjtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG5cbiAgICBjaGVlc2VQb3NpdGlvbnMgPSBbdGhpcy5wb3NYLCB0aGlzLnBvc1ksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XTtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLnZlcmlmaWNhdGlvbiA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIGRvXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzYW1lUG9zID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBjYW52YXMxLnBvc2l0aW9ucy5sZW5ndGggLTEgOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWZcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhczEucG9zaXRpb25zW2ldWzBdID09IHRoaXMucG9zWCB8fCBjYW52YXMxLnBvc2l0aW9uc1tpXVsxXSA9PSB0aGlzLnBvc1lcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc1ggPSByYW5kb21YKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zWSA9IHJhbmRvbVkoKTtcbiAgICAgICAgICAgICAgICAgICAgc2FtZVBvcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNhbWVQb3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHNhbWVQb3MgPT0gdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy52ZXJpZmljYXRpb24oKTtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnY2hlZXNlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG5cbiAgICAgICAgY2FudmFzMS5wb3NpdGlvbnMucHVzaChjaGVlc2VQb3NpdGlvbnMpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMucG9zWCA9IHJhbmRvbVgoKTtcbiAgICAgICAgdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuXG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuICAgIH1cbn1cblxuLy8gQ3JlYXRlIDEwIGNoZWVzZXNcbmZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkrKylcbntcbiAgICB2YXIgY2hlZXNlMSA9IG5ldyBjaGVlc2UgKCA1MCwgNTAsIDIwLCAyMCApO1xuICAgIGNoZWVzZTEuY3JlYXRlKCk7XG4gICAgY2hlZXNlcy5wdXNoKGNoZWVzZTEpO1xufVxuIiwidmFyIHJvdHRlbkNoZWVzZXMgPSBbXSxcbiAgICByb3R0ZW5Ub3RhbCA9IDM7XG5cbi8vIENyZWF0ZSBjaGVlc2Ugb2JqZWN0XG52YXIgcm90dGVuQ2hlZXNlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcG9zWCwgcG9zWSlcbntcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGlyWDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG4gICAgdGhpcy5kaXY7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdyb3R0ZW4tY2hlZXNlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb3NYID0gcmFuZG9tWCgpO1xuICAgICAgICB0aGlzLnBvc1kgPSByYW5kb21ZKCk7XG5cbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG4gICAgfVxufVxuXG5mb3IgKHZhciBpID0gMDsgaSA8IHJvdHRlblRvdGFsOyBpKyspXG57XG4gICAgdmFyIHJvdHRlbkNoZWVzZTEgPSBuZXcgcm90dGVuQ2hlZXNlICggNTAsIDUwLCByYW5kb21YKCksIHJhbmRvbVkoKSApO1xuICAgIHJvdHRlbkNoZWVzZXMucHVzaChyb3R0ZW5DaGVlc2UxKTtcbiAgICByb3R0ZW5DaGVlc2UxLmNyZWF0ZSgpO1xufVxuIiwidmFyIHdpbmVzID0gW10sXG4gICAgd2luZXNUb3RhbCA9IDc7XG5cbi8vIENyZWF0ZSBjaGVlc2Ugb2JqZWN0XG52YXIgd2luZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpclg7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnd2luZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMucG9zWCA9IHJhbmRvbVgoKTtcbiAgICAgICAgdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuXG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuICAgIH1cbn1cblxuLy8gQ3JlYXRlIDcgZ2xhc3NlcyBvZiB3aW5lXG5mb3IgKHZhciBpID0gMDsgaSA8IHdpbmVzVG90YWw7IGkrKylcbntcbiAgICB2YXIgd2luZTEgPSBuZXcgd2luZSAoIDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICB3aW5lcy5wdXNoKHdpbmUxKTtcbiAgICB3aW5lMS5jcmVhdGUoKTtcbn1cbiIsIi8vIENyZWF0ZSBtb3VzZSBvYmplY3RcbnNjb3JlVGltZW91dCA9IHRydWU7XG5sZWZ0TW92ID0gdHJ1ZTtcbnVwTW92ID0gdHJ1ZTtcbnJpZ2h0TW92ID0gdHJ1ZTtcbmRvd25Nb3YgPSB0cnVlO1xuXG52YXIgbW91c2UgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZLCBzcGVlZCwgZGlyWCwgZGlyWSlcbntcbiAgICAvLyBQcm9wcmlldGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgIHRoaXMuZGlyWCA9IDA7XG4gICAgdGhpcy5kaXJZID0gMDtcblxuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnbW91c2UnLCAnZGlyOTAnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG5cbiAgICB0aGlzLm1vdmUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBsZWZ0UHJlc3NlZCxcbiAgICAgICAgdXBQcmVzc2VkLFxuICAgICAgICByaWdodFByZXNzZWQsXG4gICAgICAgIGRvd25QcmVzc2VkLFxuICAgICAgICBpc1ByZXNzZWQ7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgICAgICBsZWZ0UHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclggPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIyNzBcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgdXBQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlyWSA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjBcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlyWCA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyOTBcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgZG93blByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXJZID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIxODBcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNQcmVzc2VkID09IGZhbHNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlzUHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbG9vcCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb2xsaXNpb24gY2FudmFzXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wb3NYIDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucG9zWCA+PSBjYW52YXMxLndpZHRoLV90aGlzLndpZHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKz0gX3RoaXMuZGlyWDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucG9zWSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1kgPj0gY2FudmFzMS5oZWlnaHQtX3RoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IGNhbnZhczEuaGVpZ2h0LSBfdGhpcy5oZWlnaHQgLSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICs9IF90aGlzLmRpclk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sbGlzaW9uIG9ic3RhY2xlc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBvYnN0YWNsZXMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA+PSBvYnN0YWNsZXNbaV0ucG9zWCAtIG9ic3RhY2xlc1tpXS53aWR0aC8xLjUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIDw9IG9ic3RhY2xlc1tpXS5wb3NYICsgb2JzdGFjbGVzW2ldLndpZHRoLzEuNSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPj0gb2JzdGFjbGVzW2ldLnBvc1kgLSBvYnN0YWNsZXNbaV0uaGVpZ2h0LzEuNSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPD0gb2JzdGFjbGVzW2ldLnBvc1kgKyBvYnN0YWNsZXNbaV0uaGVpZ2h0LzEuNVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgbGVmdFByZXNzZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gb2JzdGFjbGVzW2ldLnBvc1ggKyBfdGhpcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHVwUHJlc3NlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBvYnN0YWNsZXNbaV0ucG9zWSArIF90aGlzLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHJpZ2h0UHJlc3NlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBvYnN0YWNsZXNbaV0ucG9zWCAtIF90aGlzLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZG93blByZXNzZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gb2JzdGFjbGVzW2ldLnBvc1kgLSBfdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVhdCBjaGVlc2VcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gY2hlZXNlcy5sZW5ndGggLSAxOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC0gX3RoaXMuaGVpZ2h0LzIgPCBjaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICsgX3RoaXMuaGVpZ2h0LzIgPiBjaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGgvMiA8IGNoZWVzZXNbaV0ucG9zWCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKyBfdGhpcy53aWR0aC8yID4gY2hlZXNlc1tpXS5wb3NYXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlZXNlc1tpXS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGl2LmlubmVySFRNTCA9IHNjb3JlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWF0IHJvdHRlbi1jaGVlc2VcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gcm90dGVuQ2hlZXNlcy5sZW5ndGggLSAxOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC0gX3RoaXMuaGVpZ2h0IDwgcm90dGVuQ2hlZXNlc1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArIF90aGlzLmhlaWdodCA+IHJvdHRlbkNoZWVzZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggLSBfdGhpcy53aWR0aCA8IHJvdHRlbkNoZWVzZXNbaV0ucG9zWCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKyBfdGhpcy53aWR0aCA+IHJvdHRlbkNoZWVzZXNbaV0ucG9zWFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdHRlbkNoZWVzZXNbaV0udXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPD0gMCA/IHNjb3JlID0gMCA6IHNjb3JlIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaXYuaW5uZXJIVE1MID0gc2NvcmU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tPdXQxID0gbmV3IGJsYWNrT3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhY2tPdXQxLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhY2tPdXQxLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRHJpbmsgd2luZVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSB3aW5lcy5sZW5ndGggLSAxOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC0gX3RoaXMuaGVpZ2h0IDwgd2luZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKyBfdGhpcy5oZWlnaHQgPiB3aW5lc1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCAtIF90aGlzLndpZHRoIDwgd2luZXNbaV0ucG9zWCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKyBfdGhpcy53aWR0aCA+IHdpbmVzW2ldLnBvc1hcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5lc1tpXS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSA8PSAwID8gc2NvcmUgPSAwIDogc2NvcmUgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpdi5pbm5lckhUTUwgPSBzY29yZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBjYXRcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gY2F0cy5sZW5ndGggLSAxOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC0gX3RoaXMuaGVpZ2h0LzIgPCBjYXRzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICsgX3RoaXMuaGVpZ2h0LzIgPiBjYXRzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGgvMiA8IGNhdHNbaV0ucG9zWCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKyBfdGhpcy53aWR0aC8yID4gY2F0c1tpXS5wb3NYXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLmxlZnQ9IF90aGlzLnBvc1ggK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLnRvcCA9IF90aGlzLnBvc1kgK1wicHhcIjtcblxuICAgICAgICAgICAgICAgIH0sIDEwICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGV2ZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBsZWZ0UHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdXBQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICByaWdodFByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGRvd25QcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICBpc1ByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLmRpclggPSAwO1xuICAgICAgICAgICAgX3RoaXMuZGlyWSA9IDA7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGxvb3ApO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxufVxuXG4vLyBOZXcgbW91c2VcbnZhciBtb3VzZTEgPSBuZXcgbW91c2UgKDUwLCA1MCwgMjAsIDIwMCwgNiwgMCwgMCk7XG5tb3VzZTEuY3JlYXRlKCk7XG5tb3VzZTEubW92ZSgpO1xuIl19
