function choosePos(t){return Math.round(Math.random()*t)}function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(t){return Math.abs(Math.random()*t)+3}function random(t){return Math.abs(Math.random()*t)}function verification(t){for(var s=0;s<obstaclesTotal;s++)for(var e=0;e<cheesesTotal;e++){var i=!0;obstacles[s].div.getBoundingClientRect().right<t.div.getBoundingClientRect().left+6&&(i=!1),obstacles[s].div.getBoundingClientRect().left>t.div.getBoundingClientRect().right+6&&(i=!1),obstacles[s].div.getBoundingClientRect().bottom<t.div.getBoundingClientRect().top+6&&(i=!1),obstacles[s].div.getBoundingClientRect().top>t.div.getBoundingClientRect().bottom+6&&(i=!1),i&&t.div.remove()}}var body=document.querySelector("body"),container=document.querySelector(".container"),scoreDiv=container.querySelector(".score > span"),score=0,canvas=function(t,s){this.width=t,this.height=s,this.div,this.positions=new Array,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();for(var obstacles=[],obstaclesTotal=10,obstacle=function(t,s,e,i){this.div,this.width=t,this.height=s,this.posX=e,this.posY=i,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("obstacle"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div),obstacles.push(this)}},i=0;i<obstaclesTotal;i++){var obstacle1=new obstacle(50,50,randomX(),randomY());obstacle1.create()}for(var cheeses=[],cheesesTotal=100,cheese=function(t,s,e,i){this.div,this.width=t,this.height=s,this.posX=e,this.posY=i,cheesePositions=[this.posX,this.posY,this.width,this.height],this.create=function(){this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div),verification(this),canvas1.positions.push(cheesePositions)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<cheesesTotal;i++){var cheese1=new cheese(50,50,randomX(),randomY());cheese1.create(),cheeses.push(cheese1)}for(var rottenCheeses=[],rottenTotal=3,rottenCheese=function(t,s,e,i){this.width=t,this.height=s,this.posX=e,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("rotten-cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div),verification(this)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<rottenTotal;i++){var rottenCheese1=new rottenCheese(50,50,randomX(),randomY());rottenCheeses.push(rottenCheese1),rottenCheese1.create()}for(var blackOut=function(){this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("black-out"),body.appendChild(this.div)},this.remove=function(){this.div.remove()}},wines=[],winesTotal=7,wine=function(t,s,e,i){this.width=t,this.height=s,this.dirX,this.posX=e,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("wine"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div),wines.push(this),verification(this)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<winesTotal;i++){var wine1=new wine(50,50,randomX(),randomY());wine1.create()}for(var cats=[],catsTotal=6,cat=function(t,s,e){this.width=t,this.height=s,this.posX=randomX(),this.posY=randomY(),this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("cat"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div),cats.push(this)},this.direction=function(){var t,s,e=this;position=setInterval(function(){var e=[[-1,0,1],[-1,0,1]];t=e[0][choosePos(e.length)],s=e[1][choosePos(e.length)]},2e3),move=setInterval(function(){if(e.posX<=0)e.posX=canvas1.width-e.width-1;else if(e.posX>=canvas1.width-e.width)e.posX=1;else switch(t){case-1:e.posX-=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir270");break;case 0:e.posX=e.posX;break;case 1:e.posX+=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir90")}if(e.posY<=0)e.posY=canvas1.height-e.height-1;else if(e.posY>=canvas1.height-e.height)e.posY=1;else switch(s){case-1:e.posY-=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir0");break;case 0:e.posY=e.posY;break;case 1:e.posY+=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir180")}e.div.style.left=e.posX+"px",e.div.style.top=e.posY+"px"},10)}},i=0;i<catsTotal;i++){var cat1=new cat(50,50,10);cat1.create(),cat1.direction()}var mouse=function(t,s,e,i,o,h,a){this.width=t,this.height=s,this.posX=e,this.posY=i,this.speed=o,this.dirX=0,this.dirY=0,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var t,s,e,i,o,h=this;document.addEventListener("keydown",function(a){switch(a.keyCode){case 37:t=!0,h.dirX=-h.speed,h.div.className="mouse dir270";break;case 38:s=!0,h.dirY=-h.speed,h.div.className="mouse dir0";break;case 39:e=!0,h.dirX=h.speed,h.div.className="mouse dir90";break;case 40:i=!0,h.dirY=h.speed,h.div.className="mouse dir180"}0==o&&(o=!0,loop=setInterval(function(){h.posX<=0?h.posX=1:h.posX>=canvas1.width-h.width?h.posX=canvas1.width-h.width-1:h.posX+=h.dirX,h.posY<=0?h.posY=1:h.posY>=canvas1.height-h.height?h.posY=canvas1.height-h.height-1:h.posY+=h.dirY;for(var o=0;o<=obstacles.length-1;o++)if(h.posX>=obstacles[o].posX-obstacles[o].width/2&&h.posX<=obstacles[o].posX+obstacles[o].width/2&&h.posY>=obstacles[o].posY-obstacles[o].height/2&&h.posY<=obstacles[o].posY+obstacles[o].height/2)switch(!0){case t:h.posX=obstacles[o].posX+h.width;break;case s:h.posY=obstacles[o].posY+h.height;break;case e:h.posX=obstacles[o].posX-h.width;break;case i:h.posY=obstacles[o].posY-h.height}for(var o=0;o<=cheeses.length-1;o++)h.posY-h.height/2<cheeses[o].posY&&h.posY+h.height/2>cheeses[o].posY&&h.posX-h.width/2<cheeses[o].posX&&h.posX+h.width/2>cheeses[o].posX&&(cheeses[o].update(),score+=1,scoreDiv.innerHTML=score);for(var o=0;o<=rottenCheeses.length-1;o++)if(h.posY-h.height<rottenCheeses[o].posY&&h.posY+h.height>rottenCheeses[o].posY&&h.posX-h.width<rottenCheeses[o].posX&&h.posX+h.width>rottenCheeses[o].posX){rottenCheeses[o].update(),score<=0?score=0:score-=1,scoreDiv.innerHTML=score;var a=new blackOut;a.create(),setTimeout(function(){a.remove()},1e3)}for(var o=0;o<=wines.length-1;o++)if(h.posY-h.height<wines[o].posY&&h.posY+h.height>wines[o].posY&&h.posX-h.width<wines[o].posX&&h.posX+h.width>wines[o].posX){wines[o].update(),score<=0?score=0:score-=1,h.speed-=4;setTimeout(function(){h.speed+=4},5e3);scoreDiv.innerHTML=score}for(var o=0;o<=cats.length-1;o++)h.posY-h.height/2<cats[o].posY&&h.posY+h.height/2>cats[o].posY&&h.posX-h.width/2<cats[o].posX&&h.posX+h.width/2>cats[o].posX&&location.reload();h.div.style.left=h.posX+"px",h.div.style.top=h.posY+"px"},10))},!1),document.addEventListener("keyup",function(a){t=!1,s=!1,e=!1,i=!1,o=!1,h.dirX=0,h.dirY=0,clearInterval(loop)},!1)}},mouse1=new mouse(50,50,20,200,6,0,0);mouse1.create(),mouse1.move();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdC5qcyIsImNhbnZhcy5qcyIsIm9ic3RhY2xlLmpzIiwiY2hlZXNlLmpzIiwicm90dGVuQ2hlZXNlLmpzIiwid2luZS5qcyIsIm1vdXNlLmpzIl0sIm5hbWVzIjpbImNob29zZVBvcyIsIm51bWJlciIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInJhbmRvbVgiLCJhYnMiLCJmbG9vciIsImNhbnZhczEiLCJ3aWR0aCIsInJhbmRvbVkiLCJoZWlnaHQiLCJzcGVlZCIsInZlcmlmaWNhdGlvbiIsIl90aGlzIiwiaSIsIm9ic3RhY2xlc1RvdGFsIiwieSIsImNoZWVzZXNUb3RhbCIsImNoZWVzZV9kZWxldGUiLCJvYnN0YWNsZXMiLCJkaXYiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyaWdodCIsImxlZnQiLCJib3R0b20iLCJ0b3AiLCJyZW1vdmUiLCJib2R5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGFpbmVyIiwic2NvcmVEaXYiLCJzY29yZSIsImNhbnZhcyIsInRoaXMiLCJwb3NpdGlvbnMiLCJBcnJheSIsImNyZWF0ZSIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwib2JzdGFjbGUiLCJwb3NYIiwicG9zWSIsInB1c2giLCJvYnN0YWNsZTEiLCJjaGVlc2VzIiwiY2hlZXNlIiwiY2hlZXNlUG9zaXRpb25zIiwidXBkYXRlIiwiY2hlZXNlMSIsInJvdHRlbkNoZWVzZXMiLCJyb3R0ZW5Ub3RhbCIsInJvdHRlbkNoZWVzZSIsInJvdHRlbkNoZWVzZTEiLCJibGFja091dCIsIndpbmVzIiwid2luZXNUb3RhbCIsIndpbmUiLCJkaXJYIiwid2luZTEiLCJjYXRzIiwiY2F0c1RvdGFsIiwiY2F0IiwiZGlyZWN0aW9uIiwiZGlyWSIsInBvc2l0aW9uIiwic2V0SW50ZXJ2YWwiLCJuZXdQb3MiLCJsZW5ndGgiLCJtb3ZlIiwiY2F0MSIsIm1vdXNlIiwibGVmdFByZXNzZWQiLCJ1cFByZXNzZWQiLCJyaWdodFByZXNzZWQiLCJkb3duUHJlc3NlZCIsImlzUHJlc3NlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwia2V5Q29kZSIsImNsYXNzTmFtZSIsImxvb3AiLCJpbm5lckhUTUwiLCJibGFja091dDEiLCJzZXRUaW1lb3V0IiwibG9jYXRpb24iLCJyZWxvYWQiLCJldmVudCIsImNsZWFySW50ZXJ2YWwiLCJtb3VzZTEiXSwibWFwcGluZ3MiOiJBQXVHQSxRQUFBQSxXQUFBQyxHQUFBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFNBQUFILEdDdEdBLFFBQUFJLFdBQUEsTUFBQUgsTUFBQUksSUFBQUosS0FBQUssTUFBQUwsS0FBQUUsU0FBQUksUUFBQUMsTUFBQSxLQUNBLFFBQUFDLFdBQUEsTUFBQVIsTUFBQUksSUFBQUosS0FBQUssTUFBQUwsS0FBQUUsU0FBQUksUUFBQUcsT0FBQSxLQUNBLFFBQUFQLFFBQUFRLEdBQUEsTUFBQVYsTUFBQUksSUFBQUosS0FBQUUsU0FBQVEsR0FBQSxFQUNBLFFBQUFSLFFBQUFILEdBQUEsTUFBQUMsTUFBQUksSUFBQUosS0FBQUUsU0FBQUgsR0FJQSxRQUFBWSxjQUFBQyxHQUVBLElBQUEsR0FBQUMsR0FBQSxFQUFBQSxFQUFBQyxlQUFBRCxJQUNBLElBQUEsR0FBQUUsR0FBQSxFQUFBQSxFQUFBQyxhQUFBRCxJQUNBLENBQ0EsR0FBQUUsSUFBQSxDQUVBQyxXQUFBTCxHQUFBTSxJQUFBQyx3QkFBQUMsTUFBQVQsRUFBQU8sSUFBQUMsd0JBQUFFLEtBQUEsSUFDQUwsR0FBQSxHQUNBQyxVQUFBTCxHQUFBTSxJQUFBQyx3QkFBQUUsS0FBQVYsRUFBQU8sSUFBQUMsd0JBQUFDLE1BQUEsSUFDQUosR0FBQSxHQUNBQyxVQUFBTCxHQUFBTSxJQUFBQyx3QkFBQUcsT0FBQVgsRUFBQU8sSUFBQUMsd0JBQUFJLElBQUEsSUFDQVAsR0FBQSxHQUNBQyxVQUFBTCxHQUFBTSxJQUFBQyx3QkFBQUksSUFBQVosRUFBQU8sSUFBQUMsd0JBQUFHLE9BQUEs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LE9BQUEsRUFBQXFELEtBQUFqRCxHQUFBK0IsTUFDQWhDLEVBQUErQixLQUFBL0IsRUFBQUwsTUFBQSxFQUFBdUQsS0FBQWpELEdBQUE4QixNQUNBL0IsRUFBQStCLEtBQUEvQixFQUFBTCxNQUFBLEVBQUF1RCxLQUFBakQsR0FBQThCLE1BR0E0QyxTQUFBQyxRQUtBNUUsR0FBQU8sSUFBQW1CLE1BQUFoQixLQUFBVixFQUFBK0IsS0FBQSxLQUNBL0IsRUFBQU8sSUFBQW1CLE1BQUFkLElBQUFaLEVBQUFnQyxLQUFBLE1BQ0EsT0FFQSxHQUdBakIsU0FBQW9ELGlCQUFBLFFBQUEsU0FBQVUsR0FFQWYsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FsRSxFQUFBZ0QsS0FBQSxFQUNBaEQsRUFBQXNELEtBQUEsRUFDQXdCLGNBQUFQLFFBQ0EsS0FLQVEsT0FBQSxHQUFBbEIsT0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUNBa0IsUUFBQXZELFNBQ0F1RCxPQUFBcEIiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNhdHMgPSBbXSxcbiAgICBjYXRzVG90YWwgPSA2O1xuXG4vLyBDcmVhdGUgY2F0IG9iamVjdFxudmFyIGNhdCA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHNwZWVkKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5wb3NYID0gcmFuZG9tWCgpO1xuICAgIHRoaXMucG9zWSA9IHJhbmRvbVkoKTtcblxuICAgIHRoaXMuZGl2O1xuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2NhdCcpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIC8vIEFkZCB0byBjYW52YXNcbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIGNhdHMucHVzaCh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGlyWCwgZGlyWTtcblxuICAgICAgICAvLyBDaG9vc2UgdGhlIGRpcmVjdGlvbiBvZiB0aGUgY2F0IGV2ZXJ5IDIgc2Vjb25kc1xuICAgICAgICBwb3NpdGlvbiA9IHNldEludGVydmFsKGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG5ld1BvcyA9IFtcbiAgICAgICAgICAgICAgICBbLTEsIDAsIDFdLFxuICAgICAgICAgICAgICAgIFstMSwgMCwgMV1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIGRpclggPSBuZXdQb3NbMF1bIGNob29zZVBvcyhuZXdQb3MubGVuZ3RoKSBdO1xuICAgICAgICAgICAgZGlyWSA9IG5ld1Bvc1sxXVsgY2hvb3NlUG9zKG5ld1Bvcy5sZW5ndGgpIF07XG4gICAgICAgIH0sMjAwMClcblxuICAgICAgICAvLyBNb3ZlIHRoZSBjYXQgdG8gdGhlIGRpcmVjdGlvblxuICAgICAgICBtb3ZlID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBNb3ZlIG9uIFggYXhlXG4gICAgICAgICAgICBpZiAoX3RoaXMucG9zWCA8PSAwKVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBjYW52YXMxLndpZHRoIC0gX3RoaXMud2lkdGggLTEgO1xuICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucG9zWCA+PSBjYW52YXMxLndpZHRoLV90aGlzLndpZHRoKVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSAxO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGlyWClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LnJlbW92ZSgnZGlyMjcwJywgJ2RpcjkwJywgJ2RpcjAnLCAnZGlyMTgwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnZGlyMjcwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IF90aGlzLnBvc1g7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2RpcjI3MCcsICdkaXI5MCcsICdkaXIwJywgJ2RpcjE4MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2RpcjkwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNb3ZlIG9uIFkgYXhlXG4gICAgICAgICAgICBpZiAoX3RoaXMucG9zWSA8PSAwKVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBjYW52YXMxLmhlaWdodC0gX3RoaXMuaGVpZ2h0IC0gMTtcbiAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1kgPj0gY2FudmFzMS5oZWlnaHQtX3RoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSAxO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGlyWSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LnJlbW92ZSgnZGlyMjcwJywgJ2RpcjkwJywgJ2RpcjAnLCAnZGlyMTgwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnZGlyMCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBfdGhpcy5wb3NZO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QucmVtb3ZlKCdkaXIyNzAnLCAnZGlyOTAnLCAnZGlyMCcsICdkaXIxODAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdkaXIxODAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvblxuICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLmxlZnQgPSBfdGhpcy5wb3NYICsgJ3B4JztcbiAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgfSwgMTApXG4gICAgfVxufVxuZnVuY3Rpb24gY2hvb3NlUG9zKG51bWJlcikgeyByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogbnVtYmVyKSB9XG5cbi8vIENyZWF0ZSBjYXQgb2JqZWN0c1xuZm9yICh2YXIgaSA9IDA7IGkgPCBjYXRzVG90YWw7IGkrKylcbntcbiAgICB2YXIgY2F0MSA9IG5ldyBjYXQgKCA1MCwgNTAsIDEwICk7XG4gICAgY2F0MS5jcmVhdGUoKTtcbiAgICBjYXQxLmRpcmVjdGlvbigpO1xufVxuIiwidmFyIGJvZHkgICAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLFxuICAgIGNvbnRhaW5lciAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLFxuICAgIHNjb3JlRGl2ICAgID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5zY29yZSA+IHNwYW4nKSxcbiAgICBzY29yZSA9IDA7XG5cbi8vIENyZWF0ZSBjYW52YXMgb2JqZWN0XG52YXIgY2FudmFzID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodClcbntcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gQXJyYXkgdGhhdCBoYXZlIGV2ZXJ5IHBvc2l0aW9ucyBvZiBldmVyeSBvYmplY3RzIGluIHRoZSBjYW52YXNcbiAgICB0aGlzLnBvc2l0aW9ucyA9IG5ldyBBcnJheSgpO1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdjYW52YXMnKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59XG5cbi8vIE5ldyBjYW52YXMgb2JqZWN0XG52YXIgY2FudmFzMSA9IG5ldyBjYW52YXMgKDEyMDAsIDUwMCk7XG5jYW52YXMxLmNyZWF0ZSgpO1xuIiwidmFyIG9ic3RhY2xlcyA9IFtdLFxuICAgIG9ic3RhY2xlc1RvdGFsID0gMTA7XG5cbi8vIENyZWF0ZSBvYnN0YWNsZSBvYmplY3RcbnZhciBvYnN0YWNsZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgdGhpcy5kaXY7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcblxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcblxuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdvYnN0YWNsZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICBvYnN0YWNsZXMucHVzaCh0aGlzKTtcbiAgICB9XG59XG5cbi8vIENyZWF0ZSBvYnN0YWNsZXNcbmZvciAodmFyIGkgPSAwOyBpIDwgb2JzdGFjbGVzVG90YWw7IGkrKykge1xuICAgIHZhciBvYnN0YWNsZTEgPSBuZXcgb2JzdGFjbGUgKDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICBvYnN0YWNsZTEuY3JlYXRlKCk7XG59XG4iLCJ2YXIgY2hlZXNlcyA9IFtdLFxuICAgIGNoZWVzZXNUb3RhbCA9IDEwMDtcblxuLy8gQ3JlYXRlIGNoZWVzZSBvYmplY3RcbnZhciBjaGVlc2UgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZKVxue1xuXG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMuZGl2O1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcblxuICAgIC8vIEFycmF5IG9uIGV2ZXJ5IHBvc2l0aW9uIG9mIGNoZWVzZXMgb24gY2FudmFzXG4gICAgY2hlZXNlUG9zaXRpb25zID0gW3RoaXMucG9zWCwgdGhpcy5wb3NZLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodF07XG5cbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2NoZWVzZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuXG4gICAgICAgIHZlcmlmaWNhdGlvbih0aGlzKTtcblxuICAgICAgICBjYW52YXMxLnBvc2l0aW9ucy5wdXNoKGNoZWVzZVBvc2l0aW9ucyk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb3NYID0gcmFuZG9tWCgpO1xuICAgICAgICB0aGlzLnBvc1kgPSByYW5kb21ZKCk7XG5cbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG4gICAgfVxufVxuXG4vLyBDcmVhdGUgMTAgY2hlZXNlc1xuZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVlc2VzVG90YWw7IGkrKylcbntcbiAgICB2YXIgY2hlZXNlMSA9IG5ldyBjaGVlc2UgKDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkpO1xuICAgIGNoZWVzZTEuY3JlYXRlKCk7XG4gICAgY2hlZXNlcy5wdXNoKGNoZWVzZTEpO1xufVxuIiwidmFyIHJvdHRlbkNoZWVzZXMgPSBbXSxcbiAgICByb3R0ZW5Ub3RhbCA9IDM7XG5cbi8vIENyZWF0ZSByb3R0ZW4gY2hlZXNlIG9iamVjdFxudmFyIHJvdHRlbkNoZWVzZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG4gICAgdGhpcy5kaXY7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdyb3R0ZW4tY2hlZXNlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG5cbiAgICAgICAgdmVyaWZpY2F0aW9uKHRoaXMpO1xuXG4gICAgfVxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb3NYID0gcmFuZG9tWCgpO1xuICAgICAgICB0aGlzLnBvc1kgPSByYW5kb21ZKCk7XG5cbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG4gICAgfVxufVxuXG4vLyBDcmVhdGUgcm90dGVuIGNoZWVzZXMgb2JqZWN0c1xuZm9yICh2YXIgaSA9IDA7IGkgPCByb3R0ZW5Ub3RhbDsgaSsrKVxue1xuICAgIHZhciByb3R0ZW5DaGVlc2UxID0gbmV3IHJvdHRlbkNoZWVzZSAoIDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICByb3R0ZW5DaGVlc2VzLnB1c2gocm90dGVuQ2hlZXNlMSk7XG4gICAgcm90dGVuQ2hlZXNlMS5jcmVhdGUoKTtcbn1cblxuLy8gQmxhY2tvdXQgZGl2XG52YXIgYmxhY2tPdXQgPSBmdW5jdGlvbigpXG57XG4gICAgdGhpcy5kaXY7XG5cbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2JsYWNrLW91dCcpO1xuICAgICAgICBib2R5LmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdi5yZW1vdmUoKTtcbiAgICB9XG59XG4iLCJ2YXIgd2luZXMgPSBbXSxcbiAgICB3aW5lc1RvdGFsID0gNztcblxuLy8gQ3JlYXRlIHdpbmUgb2JqZWN0XG52YXIgd2luZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpclg7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnd2luZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB3aW5lcy5wdXNoKHRoaXMpO1xuXG4gICAgICAgIHZlcmlmaWNhdGlvbih0aGlzKTtcblxuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMucG9zWCA9IHJhbmRvbVgoKTtcbiAgICAgICAgdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuXG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuICAgIH1cbn1cblxuLy8gQ3JlYXRlIDcgZ2xhc3NlcyBvZiB3aW5lXG5mb3IgKHZhciBpID0gMDsgaSA8IHdpbmVzVG90YWw7IGkrKylcbntcbiAgICB2YXIgd2luZTEgPSBuZXcgd2luZSAoIDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICB3aW5lMS5jcmVhdGUoKTtcbn1cbiIsIi8vIENyZWF0ZSBtb3VzZSBvYmplY3RcbnZhciBtb3VzZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1ksIHNwZWVkLCBkaXJYLCBkaXJZKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB0aGlzLmRpclggPSAwO1xuICAgIHRoaXMuZGlyWSA9IDA7XG5cbiAgICB0aGlzLmRpdjtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ21vdXNlJywgJ2RpcjkwJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgLy8gQWRkIHRvIGNhbnZhc1xuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG5cbiAgICB0aGlzLm1vdmUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBsZWZ0UHJlc3NlZCxcbiAgICAgICAgdXBQcmVzc2VkLFxuICAgICAgICByaWdodFByZXNzZWQsXG4gICAgICAgIGRvd25QcmVzc2VkLFxuICAgICAgICBpc1ByZXNzZWQ7XG5cbiAgICAgICAgLy8ga2V5ZG93biBldmVudFxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgICAgbGVmdFByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXJYID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMjcwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgIHVwUHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclkgPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0UHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclggPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjkwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgICAgIGRvd25QcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlyWSA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMTgwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNQcmVzc2VkID09IGZhbHNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlzUHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbG9vcCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb2xsaXNpb24gY2FudmFzXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wb3NYIDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucG9zWCA+PSBjYW52YXMxLndpZHRoLV90aGlzLndpZHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKz0gX3RoaXMuZGlyWDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucG9zWSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1kgPj0gY2FudmFzMS5oZWlnaHQtX3RoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IGNhbnZhczEuaGVpZ2h0LSBfdGhpcy5oZWlnaHQgLSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICs9IF90aGlzLmRpclk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sbGlzaW9uIG9ic3RhY2xlIGJsb2Nrc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBvYnN0YWNsZXMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA+PSBvYnN0YWNsZXNbaV0ucG9zWCAtIG9ic3RhY2xlc1tpXS53aWR0aC8yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA8PSBvYnN0YWNsZXNbaV0ucG9zWCArIG9ic3RhY2xlc1tpXS53aWR0aC8yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA+PSBvYnN0YWNsZXNbaV0ucG9zWSAtIG9ic3RhY2xlc1tpXS5oZWlnaHQvMiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPD0gb2JzdGFjbGVzW2ldLnBvc1kgKyBvYnN0YWNsZXNbaV0uaGVpZ2h0LzJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGxlZnRQcmVzc2VkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IG9ic3RhY2xlc1tpXS5wb3NYICsgX3RoaXMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB1cFByZXNzZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gb2JzdGFjbGVzW2ldLnBvc1kgKyBfdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSByaWdodFByZXNzZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gb2JzdGFjbGVzW2ldLnBvc1ggLSBfdGhpcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGRvd25QcmVzc2VkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IG9ic3RhY2xlc1tpXS5wb3NZIC0gX3RoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBFYXQgY2hlZXNlXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGNoZWVzZXMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodC8yIDwgY2hlZXNlc1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArIF90aGlzLmhlaWdodC8yID4gY2hlZXNlc1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCAtIF90aGlzLndpZHRoLzIgPCBjaGVlc2VzW2ldLnBvc1ggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGgvMiA+IGNoZWVzZXNbaV0ucG9zWFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWVzZXNbaV0udXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpdi5pbm5lckhUTUwgPSBzY29yZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVhdCByb3R0ZW4tY2hlZXNlXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHJvdHRlbkNoZWVzZXMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodCA8IHJvdHRlbkNoZWVzZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKyBfdGhpcy5oZWlnaHQgPiByb3R0ZW5DaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGggPCByb3R0ZW5DaGVlc2VzW2ldLnBvc1ggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGggPiByb3R0ZW5DaGVlc2VzW2ldLnBvc1hcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3R0ZW5DaGVlc2VzW2ldLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlIDw9IDAgPyBzY29yZSA9IDAgOiBzY29yZSAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGl2LmlubmVySFRNTCA9IHNjb3JlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsYWNrT3V0MSA9IG5ldyBibGFja091dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWNrT3V0MS5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWNrT3V0MS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIERyaW5rIHdpbmVcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gd2luZXMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodCA8IHdpbmVzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICsgX3RoaXMuaGVpZ2h0ID4gd2luZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggLSBfdGhpcy53aWR0aCA8IHdpbmVzW2ldLnBvc1ggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGggPiB3aW5lc1tpXS5wb3NYXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZXNbaV0udXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPD0gMCA/IHNjb3JlID0gMCA6IHNjb3JlIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG93ZXIgdGhlIHNwZWVkIGZvciA1c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNwZWVkIC09IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJpdGUgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsgX3RoaXMuc3BlZWQgKz0gNDsgfSwgNTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaXYuaW5uZXJIVE1MID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDb2xsaXNpb24gY2F0XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGNhdHMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodC8yIDwgY2F0c1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArIF90aGlzLmhlaWdodC8yID4gY2F0c1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCAtIF90aGlzLndpZHRoLzIgPCBjYXRzW2ldLnBvc1ggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGgvMiA+IGNhdHNbaV0ucG9zWFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS5sZWZ0PSBfdGhpcy5wb3NYICtcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICtcInB4XCI7XG4gICAgICAgICAgICAgICAgfSwgMTAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIEtleXVwIGV2ZW50XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oZXZlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxlZnRQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB1cFByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJpZ2h0UHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZG93blByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlzUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMuZGlyWCA9IDA7XG4gICAgICAgICAgICBfdGhpcy5kaXJZID0gMDtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobG9vcCk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG59XG5cbi8vIE5ldyBtb3VzZSBvYmplY3RcbnZhciBtb3VzZTEgPSBuZXcgbW91c2UgKDUwLCA1MCwgMjAsIDIwMCwgNiwgMCwgMCk7XG5tb3VzZTEuY3JlYXRlKCk7XG5tb3VzZTEubW92ZSgpO1xuIl19
