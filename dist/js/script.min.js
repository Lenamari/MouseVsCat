function choosePos(s){return Math.round(Math.random()*s)}function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(s){return Math.abs(Math.random()*s)+3}function random(s){return Math.abs(Math.random()*s)}var body=document.querySelector("body"),container=document.querySelector(".container"),scoreDiv=container.querySelector(".score > span"),score=0,canvas=function(s,t){this.width=s,this.height=t,this.div,this.positions=new Array,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();for(var blackOut=function(){this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("black-out"),body.appendChild(this.div)},this.remove=function(){this.div.remove()}},obstacles=[],obstaclesTotal=10,obstacle=function(s,t,e,i){this.div,this.width=s,this.height=t,this.posX=e,this.posY=i,this.create=function(){obstacles.push(this),this.div=document.createElement("div"),this.div.classList.add("obstacle"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},i=0;i<obstaclesTotal;i++){var obstacle1=new obstacle(50,50,randomX(),randomY());obstacles.push(obstacle1),obstacle1.create()}for(var cheeses=[],cheesesTotal=5,cheese=function(s,t,e,i){this.div,this.width=s,this.height=t,this.posX=e,this.posY=i,cheesePositions=[this.posX,this.posY,this.width,this.height],this.verification=function(){do{for(var s=!1,t=0;t<=canvas1.positions.length-1;t++)canvas1.positions[t][0]==this.posX||canvas1.positions[t][1]==this.posY?(this.posX=randomX(),this.posY=randomY(),s=!0):s=!1}while(1==s)},this.create=function(){this.verification(),this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div),canvas1.positions.push(cheesePositions)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<20;i++){var cheese1=new cheese(50,50,20,20);cheese1.create(),cheeses.push(cheese1)}for(var rottenCheeses=[],rottenTotal=3,rottenCheese=function(s,t,e,i){this.width=s,this.height=t,this.dirX,this.posX=e,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("rotten-cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<rottenTotal;i++){var rottenCheese1=new rottenCheese(50,50,randomX(),randomY());rottenCheeses.push(rottenCheese1),rottenCheese1.create()}for(var wines=[],winesTotal=7,wine=function(s,t,e,i){this.width=s,this.height=t,this.dirX,this.posX=e,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("wine"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.update=function(){this.posX=randomX(),this.posY=randomY(),this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px"}},i=0;i<winesTotal;i++){var wine1=new wine(50,50,randomX(),randomY());wines.push(wine1),wine1.create()}for(var cats=[],catsTotal=6,cat=function(s,t,e,i,o){this.width=s,this.height=t,this.posX=e,this.posY=i,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("cat"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.direction=function(){var s,t,e=this;position=setInterval(function(){var e=[[-1,0,1],[-1,0,1]];s=e[0][choosePos(e.length)],t=e[1][choosePos(e.length)]},1e3),move=setInterval(function(){if(e.posX<=0)e.posX=0;else if(e.posX>=canvas1.width-e.width)e.posX=canvas1.width-e.width;else switch(s){case-1:e.posX-=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir270");break;case 0:e.posX=e.posX;break;case 1:e.posX+=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir90")}if(e.posY<=0)e.posY=canvas1.height-e.height-1;else if(e.posY>=canvas1.height-e.height)e.posY=1;else switch(t){case-1:e.posY-=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir0");break;case 0:e.posY=e.posY;break;case 1:e.posY+=1,e.div.classList.remove("dir270","dir90","dir0","dir180"),e.div.classList.add("dir180")}e.div.style.left=e.posX+"px",e.div.style.top=e.posY+"px"},10)}},i=0;i<catsTotal;i++){var cat1=new cat(50,50,canvas1.width/2,canvas1.height/2,10);cats.push(cat1),cat1.create(),cat1.direction()}scoreTimeout=!0,leftMov=!0,upMov=!0,rightMov=!0,downMov=!0;var mouse=function(s,t,e,i,o,h,a){this.width=s,this.height=t,this.posX=e,this.posY=i,this.speed=o,this.dirX=0,this.dirY=0,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var s,t,e,i,o,h=this;document.addEventListener("keyup",function(a){s=!1,t=!1,e=!1,i=!1,o=!1,h.dirX=0,h.dirY=0,clearInterval(loop)},!1),document.addEventListener("keydown",function(a){switch(a.keyCode){case 37:s=!0,h.dirX=-h.speed,h.div.className="mouse dir270";break;case 38:t=!0,h.dirY=-h.speed,h.div.className="mouse dir0";break;case 39:e=!0,h.dirX=h.speed,h.div.className="mouse dir90";break;case 40:i=!0,h.dirY=h.speed,h.div.className="mouse dir180"}0==o&&(o=!0,loop=setInterval(function(){h.posX<=0?h.posX=1:h.posX>=canvas1.width-h.width?h.posX=canvas1.width-h.width-1:h.posX+=h.dirX,h.posY<=0?h.posY=1:h.posY>=canvas1.height-h.height?h.posY=canvas1.height-h.height-1:h.posY+=h.dirY;for(var o=0;o<=obstacles.length-1;o++)if(h.posX>=obstacles[o].posX-obstacles[o].width/1.5&&h.posX<=obstacles[o].posX+obstacles[o].width/1.5&&h.posY>=obstacles[o].posY-obstacles[o].height/1.5&&h.posY<=obstacles[o].posY+obstacles[o].height/1.5)switch(!0){case s:h.posX=obstacles[o].posX+h.width;break;case t:h.posY=obstacles[o].posY+h.height;break;case e:h.posX=obstacles[o].posX-h.width;break;case i:h.posY=obstacles[o].posY-h.height}for(var o=0;o<=cheeses.length-1;o++)h.posY-h.height/2<cheeses[o].posY&&h.posY+h.height/2>cheeses[o].posY&&h.posX-h.width/2<cheeses[o].posX&&h.posX+h.width/2>cheeses[o].posX&&(cheeses[o].update(),score+=1,scoreDiv.innerHTML=score);for(var o=0;o<=rottenCheeses.length-1;o++)if(h.posY-h.height<rottenCheeses[o].posY&&h.posY+h.height>rottenCheeses[o].posY&&h.posX-h.width<rottenCheeses[o].posX&&h.posX+h.width>rottenCheeses[o].posX){rottenCheeses[o].update(),score<=0?score=0:score-=1,scoreDiv.innerHTML=score;var d=new blackOut;d.create(),setTimeout(function(){d.remove()},1e3)}for(var o=0;o<=wines.length-1;o++)h.posY-h.height<wines[o].posY&&h.posY+h.height>wines[o].posY&&h.posX-h.width<wines[o].posX&&h.posX+h.width>wines[o].posX&&(wines[o].update(),score<=0?score=0:score-=1,scoreDiv.innerHTML=score,setInterval(function(){switch(!0){case s:a.keyCode=39;break;case t:a.keyCode=40;break;case e:a.keyCode=37;break;case i:a.keyCode=38}},5e3),setTimeout(function(){clearInterval()},5e3));h.div.style.left=h.posX+"px",h.div.style.top=h.posY+"px"},10))},!1)}},mouse1=new mouse(50,50,20,200,6,0,0);mouse1.create(),mouse1.move();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdC5qcyIsImNhbnZhcy5qcyIsIm9ic3RhY2xlLmpzIiwiY2hlZXNlLmpzIiwicm90dGVuQ2hlZXNlLmpzIiwid2luZS5qcyIsIm1vdXNlLmpzIl0sIm5hbWVzIjpbImNob29zZVBvcyIsIm51bWJlciIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInJhbmRvbVgiLCJhYnMiLCJmbG9vciIsImNhbnZhczEiLCJ3aWR0aCIsInJhbmRvbVkiLCJoZWlnaHQiLCJzcGVlZCIsImJvZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250YWluZXIiLCJzY29yZURpdiIsInNjb3JlIiwiY2FudmFzIiwidGhpcyIsImRpdiIsInBvc2l0aW9ucyIsIkFycmF5IiwiY3JlYXRlIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJibGFja091dCIsInJlbW92ZSIsIm9ic3RhY2xlcyIsIm9ic3RhY2xlc1RvdGFsIiwib2JzdGFjbGUiLCJwb3NYIiwicG9zWSIsInB1c2giLCJ0b3AiLCJsZWZ0IiwiaSIsIm9ic3RhY2xlMSIsImNoZWVzZXMiLCJjaGVlc2VzVG90YWwiLCJjaGVlc2UiLCJjaGVlc2VQb3NpdGlvbnMiLCJ2ZXJpZmljYXRpb24iLCJzYW1lUG9zIiwibGVuZ3RoIiwidXBkYXRlIiwiY2hlZXNlMSIsInJvdHRlbkNoZWVzZXMiLCJyb3R0ZW5Ub3RhbCIsInJvdHRlbkNoZWVzZSIsImRpclgiLCJyb3R0ZW5DaGVlc2UxIiwid2luZXMiLCJ3aW5lc1RvdGFsIiwid2luZSIsIndpbmUxIiwiY2F0cyIsImNhdHNUb3RhbCIsImNhdCIsImRpcmVjdGlvbiIsImRpclkiLCJfdGhpcyIsInBvc2l0aW9uIiwic2V0SW50ZXJ2YWwiLCJuZXdQb3MiLCJtb3ZlIiwiY2F0MSIsInNjb3JlVGltZW91dCIsImxlZnRNb3YiLCJ1cE1vdiIsInJpZ2h0TW92IiwiZG93bk1vdiIsIm1vdXNlIiwibGVmdFByZXNzZWQiLCJ1cFByZXNzZWQiLCJyaWdodFByZXNzZWQiLCJkb3duUHJlc3NlZCIsImlzUHJlc3NlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNsZWFySW50ZXJ2YWwiLCJsb29wIiwiZSIsImtleUNvZGUiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJibGFja091dDEiLCJzZXRUaW1lb3V0IiwibW91c2UxIl0sIm1hcHBpbmdzIjoiQUFpR0EsUUFBQUEsV0FBQUMsR0FBQSxNQUFBQyxNQUFBQyxNQUFBRCxLQUFBRSxTQUFBSCxHQ2hHQSxRQUFBSSxXQUFBLE1BQUFILE1BQUFJLElBQUFKLEtBQUFLLE1BQUFMLEtBQUFFLFNBQUFJLFFBQUFDLE1BQUEsS0FDQSxRQUFBQyxXQUFBLE1BQUFSLE1BQUFJLElBQUFKLEtBQUFLLE1BQUFMLEtBQUFFLFNBQUFJLFFBQUFHLE9BQUEsS0FDQSxRQUFBUCxRQUFBUSxHQUFBLE1BQUFWLE1BQUFJLElBQUFKLEtBQUFFLFNBQUFRLEdBQUEsRUFDQSxRQUFBUixRQUFBSCxHQUFBLE1BQUFDLE1BQUFJLElBQUFKLEtBQUFFLFNBQUFILEdBSkEsR0FBQVksTUFBQUMsU0FBQUMsY0FBQSxRQUNBQyxVQUFBRixTQUFBQyxjQUFBLGNBQ0FFLFNBQUFELFVBQUFELGNBQUEsaUJBQ0FHLE1BQUEsRUFHQUMsT0FBQSxTQUFBVixFQUFBRSxHQUdBUyxLQUFBWCxNQUFBQSxFQUNBVyxLQUFBVCxPQUFBQSxFQUNBUyxLQUFBQyxJQUNBRCxLQUFBRSxVQUFBLEdBQUFDLE9BR0FILEtBQUFJLE9BQUEsV0FFQUosS0FBQUMsSUFBQVAsU0FBQVcsY0FBQSxPQUNBTCxLQUFBQyxJQUFBSyxNQUFBakIsTUFBQVcsS0FBQVgsTUFBQSxLQUNBVyxLQUFBQyxJQUFBSyxNQUFBZixPQUFBUyxLQUFBVCxPQUFBLEtBQ0FTLEtBQUFDLElBQUFNLFVBQUFDLElBQUEsVUFDQVosVUFBQWEsWUFBQVQsS0FBQUMsT0FJQWIsUUFBQSxHQUFBVyxRQUFBLEtBQUEsSUFDQVgsU0FBQWdCLFFDQ0EsS0FB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LEVBQUE3QixLQUFBLE1BRUEsT0FFQSxLQVFBd0QsT0FBQSxHQUFBaEIsT0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUNBZ0IsUUFBQXBFLFNBQ0FvRSxPQUFBdkIiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNhdHMgPSBbXSxcbiAgICBjYXRzVG90YWwgPSA2O1xuXG4vLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIGNhdCA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1ksIHNwZWVkKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuXG4gICAgdGhpcy5kaXY7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdjYXQnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGlyWCwgZGlyWTtcbiAgICAgICAgcG9zaXRpb24gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBuZXdQb3MgPSBbXG4gICAgICAgICAgICAgICAgWy0xLCAwLCAxXSxcbiAgICAgICAgICAgICAgICBbLTEsIDAsIDFdXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICBkaXJYID0gbmV3UG9zWzBdWyBjaG9vc2VQb3MobmV3UG9zLmxlbmd0aCkgXTtcbiAgICAgICAgICAgIGRpclkgPSBuZXdQb3NbMV1bIGNob29zZVBvcyhuZXdQb3MubGVuZ3RoKSBdO1xuICAgICAgICB9LDEwMDApXG4gICAgICAgIG1vdmUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5wb3NYIDw9IDApXG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IDA7XG4gICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5wb3NYID49IGNhbnZhczEud2lkdGgtX3RoaXMud2lkdGgpXG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRpclgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2RpcjI3MCcsICdkaXI5MCcsICdkaXIwJywgJ2RpcjE4MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2RpcjI3MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBfdGhpcy5wb3NYO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QucmVtb3ZlKCdkaXIyNzAnLCAnZGlyOTAnLCAnZGlyMCcsICdkaXIxODAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdkaXI5MCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoX3RoaXMucG9zWSA8PSAwKVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBjYW52YXMxLmhlaWdodC0gX3RoaXMuaGVpZ2h0IC0gMTtcbiAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1kgPj0gY2FudmFzMS5oZWlnaHQtX3RoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSAxO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGlyWSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LnJlbW92ZSgnZGlyMjcwJywgJ2RpcjkwJywgJ2RpcjAnLCAnZGlyMTgwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnZGlyMCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBfdGhpcy5wb3NZO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QucmVtb3ZlKCdkaXIyNzAnLCAnZGlyOTAnLCAnZGlyMCcsICdkaXIxODAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdkaXIxODAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLmxlZnQgPSBfdGhpcy5wb3NYICsgJ3B4JztcbiAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgfSwgMTApXG4gICAgfVxufVxuZnVuY3Rpb24gY2hvb3NlUG9zKG51bWJlcikgeyByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogbnVtYmVyKSB9XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgY2F0c1RvdGFsOyBpKyspXG57XG4gICAgdmFyIGNhdDEgPSBuZXcgY2F0ICggNTAsIDUwLCBjYW52YXMxLndpZHRoLzIsIGNhbnZhczEuaGVpZ2h0LzIsIDEwICk7XG4gICAgY2F0cy5wdXNoKGNhdDEpO1xuICAgIGNhdDEuY3JlYXRlKCk7XG4gICAgY2F0MS5kaXJlY3Rpb24oKTtcbn1cbiIsInZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xudmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbnZhciBzY29yZURpdiA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2NvcmUgPiBzcGFuJyksXG4gICAgc2NvcmUgPSAwO1xuXG4vLyBDcmVhdGUgY2FudmFzIG9iamVjdFxudmFyIGNhbnZhcyA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpdjtcbiAgICB0aGlzLnBvc2l0aW9ucyA9IG5ldyBBcnJheSgpO1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdjYW52YXMnKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59XG4vLyBOZXcgY2FudmFzXG52YXIgY2FudmFzMSA9IG5ldyBjYW52YXMgKDEyMDAsIDUwMCk7XG5jYW52YXMxLmNyZWF0ZSgpO1xuXG4vLyBCbGFja291dFxudmFyIGJsYWNrT3V0ID0gZnVuY3Rpb24oKVxue1xuICAgIHRoaXMuZGl2O1xuXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdibGFjay1vdXQnKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYucmVtb3ZlKCk7XG4gICAgfVxufVxuIiwidmFyIG9ic3RhY2xlcyA9IFtdLFxuICAgIG9ic3RhY2xlc1RvdGFsID0gMTA7XG5cbnZhciBvYnN0YWNsZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgdGhpcy5kaXY7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcblxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgb2JzdGFjbGVzLnB1c2godGhpcyk7XG5cbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnb2JzdGFjbGUnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgb2JzdGFjbGVzVG90YWw7IGkrKykge1xuICAgIHZhciBvYnN0YWNsZTEgPSBuZXcgb2JzdGFjbGUgKDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICBvYnN0YWNsZXMucHVzaChvYnN0YWNsZTEpO1xuICAgIG9ic3RhY2xlMS5jcmVhdGUoKTtcbn1cbiIsInZhciBjaGVlc2VzID0gW10sXG4gICAgY2hlZXNlc1RvdGFsID0gNTtcblxuLy8gQ3JlYXRlIGNoZWVzZSBvYmplY3RcbnZhciBjaGVlc2UgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLmRpdjtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG5cbiAgICBjaGVlc2VQb3NpdGlvbnMgPSBbdGhpcy5wb3NYLCB0aGlzLnBvc1ksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XTtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLnZlcmlmaWNhdGlvbiA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIGRvXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzYW1lUG9zID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBjYW52YXMxLnBvc2l0aW9ucy5sZW5ndGggLTEgOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWZcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhczEucG9zaXRpb25zW2ldWzBdID09IHRoaXMucG9zWCB8fCBjYW52YXMxLnBvc2l0aW9uc1tpXVsxXSA9PSB0aGlzLnBvc1lcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc1ggPSByYW5kb21YKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zWSA9IHJhbmRvbVkoKTtcbiAgICAgICAgICAgICAgICAgICAgc2FtZVBvcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNhbWVQb3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHNhbWVQb3MgPT0gdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy52ZXJpZmljYXRpb24oKTtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnY2hlZXNlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG5cbiAgICAgICAgY2FudmFzMS5wb3NpdGlvbnMucHVzaChjaGVlc2VQb3NpdGlvbnMpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMucG9zWCA9IHJhbmRvbVgoKTtcbiAgICAgICAgdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuXG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuICAgIH1cbn1cblxuLy8gQ3JlYXRlIDEwIGNoZWVzZXNcbmZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkrKylcbntcbiAgICB2YXIgY2hlZXNlMSA9IG5ldyBjaGVlc2UgKCA1MCwgNTAsIDIwLCAyMCApO1xuICAgIGNoZWVzZTEuY3JlYXRlKCk7XG4gICAgY2hlZXNlcy5wdXNoKGNoZWVzZTEpO1xufVxuIiwidmFyIHJvdHRlbkNoZWVzZXMgPSBbXSxcbiAgICByb3R0ZW5Ub3RhbCA9IDM7XG5cbi8vIENyZWF0ZSBjaGVlc2Ugb2JqZWN0XG52YXIgcm90dGVuQ2hlZXNlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcG9zWCwgcG9zWSlcbntcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGlyWDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG4gICAgdGhpcy5kaXY7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdyb3R0ZW4tY2hlZXNlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb3NYID0gcmFuZG9tWCgpO1xuICAgICAgICB0aGlzLnBvc1kgPSByYW5kb21ZKCk7XG5cbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG4gICAgfVxufVxuXG5mb3IgKHZhciBpID0gMDsgaSA8IHJvdHRlblRvdGFsOyBpKyspXG57XG4gICAgdmFyIHJvdHRlbkNoZWVzZTEgPSBuZXcgcm90dGVuQ2hlZXNlICggNTAsIDUwLCByYW5kb21YKCksIHJhbmRvbVkoKSApO1xuICAgIHJvdHRlbkNoZWVzZXMucHVzaChyb3R0ZW5DaGVlc2UxKTtcbiAgICByb3R0ZW5DaGVlc2UxLmNyZWF0ZSgpO1xufVxuIiwidmFyIHdpbmVzID0gW10sXG4gICAgd2luZXNUb3RhbCA9IDc7XG5cbi8vIENyZWF0ZSBjaGVlc2Ugb2JqZWN0XG52YXIgd2luZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpclg7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnd2luZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMucG9zWCA9IHJhbmRvbVgoKTtcbiAgICAgICAgdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuXG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuICAgIH1cbn1cblxuLy8gQ3JlYXRlIDcgZ2xhc3NlcyBvZiB3aW5lXG5mb3IgKHZhciBpID0gMDsgaSA8IHdpbmVzVG90YWw7IGkrKylcbntcbiAgICB2YXIgd2luZTEgPSBuZXcgd2luZSAoIDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICB3aW5lcy5wdXNoKHdpbmUxKTtcbiAgICB3aW5lMS5jcmVhdGUoKTtcbn1cbiIsIi8vIENyZWF0ZSBtb3VzZSBvYmplY3RcbnNjb3JlVGltZW91dCA9IHRydWU7XG5sZWZ0TW92ID0gdHJ1ZTtcbnVwTW92ID0gdHJ1ZTtcbnJpZ2h0TW92ID0gdHJ1ZTtcbmRvd25Nb3YgPSB0cnVlO1xuXG52YXIgbW91c2UgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZLCBzcGVlZCwgZGlyWCwgZGlyWSlcbntcbiAgICAvLyBQcm9wcmlldGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgIHRoaXMuZGlyWCA9IDA7XG4gICAgdGhpcy5kaXJZID0gMDtcblxuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnbW91c2UnLCAnZGlyOTAnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG5cbiAgICB0aGlzLm1vdmUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICBsZWZ0UHJlc3NlZCxcbiAgICAgICAgdXBQcmVzc2VkLFxuICAgICAgICByaWdodFByZXNzZWQsXG4gICAgICAgIGRvd25QcmVzc2VkLFxuICAgICAgICBpc1ByZXNzZWQ7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbihldmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgbGVmdFByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHVwUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmlnaHRQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICBkb3duUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaXNQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICBfdGhpcy5kaXJYID0gMDtcbiAgICAgICAgICAgIF90aGlzLmRpclkgPSAwO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsb29wKTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgICAgbGVmdFByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXJYID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMjcwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgIHVwUHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclkgPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0UHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclggPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjkwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgICAgIGRvd25QcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlyWSA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMTgwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUHJlc3NlZCA9PSBmYWxzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1ByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxvb3AgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sbGlzaW9uIGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucG9zWCA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1ggPj0gY2FudmFzMS53aWR0aC1fdGhpcy53aWR0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBjYW52YXMxLndpZHRoIC0gX3RoaXMud2lkdGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICs9IF90aGlzLmRpclg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnBvc1kgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5wb3NZID49IGNhbnZhczEuaGVpZ2h0LV90aGlzLmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBjYW52YXMxLmhlaWdodC0gX3RoaXMuaGVpZ2h0IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArPSBfdGhpcy5kaXJZO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBvYnN0YWNsZXNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gb2JzdGFjbGVzLmxlbmd0aCAtIDE7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPj0gb2JzdGFjbGVzW2ldLnBvc1ggLSBvYnN0YWNsZXNbaV0ud2lkdGgvMS41ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA8PSBvYnN0YWNsZXNbaV0ucG9zWCArIG9ic3RhY2xlc1tpXS53aWR0aC8xLjUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID49IG9ic3RhY2xlc1tpXS5wb3NZIC0gb2JzdGFjbGVzW2ldLmhlaWdodC8xLjUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIDw9IG9ic3RhY2xlc1tpXS5wb3NZICsgb2JzdGFjbGVzW2ldLmhlaWdodC8xLjVcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGxlZnRQcmVzc2VkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IG9ic3RhY2xlc1tpXS5wb3NYICsgX3RoaXMud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB1cFByZXNzZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gb2JzdGFjbGVzW2ldLnBvc1kgKyBfdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSByaWdodFByZXNzZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gb2JzdGFjbGVzW2ldLnBvc1ggLSBfdGhpcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGRvd25QcmVzc2VkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSA9IG9ic3RhY2xlc1tpXS5wb3NZIC0gX3RoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBFYXQgY2hlZXNlXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGNoZWVzZXMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodC8yIDwgY2hlZXNlc1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArIF90aGlzLmhlaWdodC8yID4gY2hlZXNlc1tpXS5wb3NZICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCAtIF90aGlzLndpZHRoLzIgPCBjaGVlc2VzW2ldLnBvc1ggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGgvMiA+IGNoZWVzZXNbaV0ucG9zWFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWVzZXNbaV0udXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpdi5pbm5lckhUTUwgPSBzY29yZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVhdCByb3R0ZW4tY2hlZXNlXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHJvdHRlbkNoZWVzZXMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodCA8IHJvdHRlbkNoZWVzZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKyBfdGhpcy5oZWlnaHQgPiByb3R0ZW5DaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGggPCByb3R0ZW5DaGVlc2VzW2ldLnBvc1ggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGggPiByb3R0ZW5DaGVlc2VzW2ldLnBvc1hcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3R0ZW5DaGVlc2VzW2ldLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlIDw9IDAgPyBzY29yZSA9IDAgOiBzY29yZSAtPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGl2LmlubmVySFRNTCA9IHNjb3JlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsYWNrT3V0MSA9IG5ldyBibGFja091dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWNrT3V0MS5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWNrT3V0MS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIERyaW5rIHdpbmVcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gd2luZXMubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodCA8IHdpbmVzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICsgX3RoaXMuaGVpZ2h0ID4gd2luZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggLSBfdGhpcy53aWR0aCA8IHdpbmVzW2ldLnBvc1ggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGggPiB3aW5lc1tpXS5wb3NYXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZXNbaV0udXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPD0gMCA/IHNjb3JlID0gMCA6IHNjb3JlIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmVEaXYuaW5uZXJIVE1MID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIChsZWZ0UHJlc3NlZCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5rZXlDb2RlID0gMzk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICh1cFByZXNzZWQpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUua2V5Q29kZSA9IDQwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAocmlnaHRQcmVzc2VkKTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmtleUNvZGUgPSAzNztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgKGRvd25QcmVzc2VkKTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmtleUNvZGUgPSAzODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwMClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuc3R5bGUubGVmdD0gX3RoaXMucG9zWCArXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuc3R5bGUudG9wID0gX3RoaXMucG9zWSArXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgfSwgMTAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgfVxuXG5cbn1cblxuLy8gTmV3IG1vdXNlXG52YXIgbW91c2UxID0gbmV3IG1vdXNlICg1MCwgNTAsIDIwLCAyMDAsIDYsIDAsIDApO1xubW91c2UxLmNyZWF0ZSgpO1xubW91c2UxLm1vdmUoKTtcbiJdfQ==
