function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(s){return Math.abs(Math.random()*s)+3}var container=document.querySelector(".container"),canvas=function(s,t){this.width=s,this.height=t,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();for(var cheeses=[],score=0,cheese=function(s,t,i,e,h){this.width=s,this.height=t,this.dirX,this.posX=i,this.posY=e,this.speed=h,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.add=function(){var s=this,t={};t.posY=s.posY,cheeses.push(t)},this.direction=function(){var s=this;setInterval(function(){s.posX<=-100?(s.posX=canvas1.width-s.width,s.posY=randomY()):(s.posX-=s.speed,s.div.style.left=s.posX+"px",s.div.style.top=s.posY+"px"),mouse1.posY-mouse1.height/2<s.posY&&mouse1.posY+mouse1.height/2>s.posY&&mouse1.posX-mouse1.width/2<s.posX&&mouse1.posX+mouse1.width/2>s.posX&&(s.posX=canvas1.width-s.width,s.posY=randomY(),score+=1,console.log("score: "+score))},30)}},i=0;i<4;i++){var cheese1=new cheese(50,50,randomX(),randomY(),random(12));cheese1.create(),cheese1.add()}var mouse=function(s,t,i,e,h,o,d){this.width=s,this.height=t,this.posX=i,this.posY=e,this.speed=h,this.dirX=0,this.dirY=0,this.cross=new Array,this.div;var a=!1;this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var s=this;document.addEventListener("keydown",function(t){t.keyCode==s.cross[0]?(s.dirY=-s.speed,s.div.className="mouse dir0"):t.keyCode==s.cross[1]?(s.dirX=s.speed,s.div.className="mouse dir90"):t.keyCode==s.cross[2]?(s.dirY=s.speed,s.div.className="mouse dir180"):t.keyCode==s.cross[3]&&(s.dirX=-s.speed,s.div.className="mouse dir270"),0==a&&(a=!0,loop=setInterval(function(){s.posX<=0?s.posX=1:s.posX>=canvas1.width-s.width?s.posX=canvas1.width-s.width-1:s.posX+=s.dirX,s.posY<=0?s.posY=1:s.posY>=canvas1.height-s.height?s.posY=canvas1.height-s.height-1:s.posY+=s.dirY,s.div.style.left=s.posX+"px",s.div.style.top=s.posY+"px"},10)),document.addEventListener("keyup",function(t){a=!1,s.dirX=0,s.dirY=0,clearInterval(loop)},!1)},!1)}},mouse1=new mouse(70,70,20,20,2,0,0);mouse1.cross=[38,39,40,37],mouse1.create(),mouse1.move();var obstacle=function(s,t,i,e){this.width=s,this.height=t,this.posX=i,this.posY=e,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("obstacle"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},obstacle1=new obstacle(10,10,randomX(),randomY());obstacle.create();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhcy5qcyIsImNoZWVzZS5qcyIsIm1vdXNlLmpzIiwib2JzdGFjbGUuanMiXSwibmFtZXMiOlsicmFuZG9tWCIsIk1hdGgiLCJhYnMiLCJmbG9vciIsInJhbmRvbSIsImNhbnZhczEiLCJ3aWR0aCIsInJhbmRvbVkiLCJoZWlnaHQiLCJzcGVlZCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhbnZhcyIsInRoaXMiLCJjcmVhdGUiLCJkaXYiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImNoZWVzZXMiLCJzY29yZSIsImNoZWVzZSIsInBvc1giLCJwb3NZIiwiZGlyWCIsInRvcCIsImxlZnQiLCJfdGhpcyIsInB1c2giLCJkaXJlY3Rpb24iLCJzZXRJbnRlcnZhbCIsIm1vdXNlMSIsImNvbnNvbGUiLCJsb2ciLCJpIiwiY2hlZXNlMSIsIm1vdXNlIiwiZGlyWSIsImNyb3NzIiwiQXJyYXkiLCJpc1ByZXNzZWQiLCJtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwia2V5Q29kZSIsImNsYXNzTmFtZSIsImxvb3AiLCJjbGVhckludGVydmFsIiwib2JzdGFjbGUiLCJvYnN0YWNsZTEiXSwibWFwcGluZ3MiOiJBQUNBLFFBQUFBLFdBQUEsTUFBQUMsTUFBQUMsSUFBQUQsS0FBQUUsTUFBQUYsS0FBQUcsU0FBQUMsUUFBQUMsTUFBQSxLQUNBLFFBQUFDLFdBQUEsTUFBQU4sTUFBQUMsSUFBQUQsS0FBQUUsTUFBQUYsS0FBQUcsU0FBQUMsUUFBQUcsT0FBQSxLQUNBLFFBQUFKLFFBQUFLLEdBQUEsTUFBQVIsTUFBQUMsSUFBQUQsS0FBQUcsU0FBQUssR0FBQSxFQUhBLEdBQUFDLFdBQUFDLFNBQUFDLGNBQUEsY0FHQUMsT0FBQSxTQUFBUCxFQUFBRSxHQUdBTSxLQUFBUixNQUFBQSxFQUNBUSxLQUFBTixPQUFBQSxFQUdBTSxLQUFBQyxPQUFBLFdBRUFELEtB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aUJBQUEsUUFBQSxTQUFBQyxHQUVBSCxHQUFBLEVBQ0FiLEVBQUFILEtBQUEsRUFDQUcsRUFBQVUsS0FBQSxFQUNBVSxjQUFBRCxRQUNBLEtBQ0EsS0FLQWYsT0FBQSxHQUFBSyxPQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0FMLFFBQUFPLE9BQUEsR0FBQSxHQUFBLEdBQUEsSUFFQVAsT0FBQW5CLFNBQ0FtQixPQUFBVSxNQ2xJQSxJQUFBTyxVQUFBLFNBQUE3QyxFQUFBRSxFQUFBaUIsRUFBQUMsR0FFQVosS0FBQVIsTUFBQUEsRUFDQVEsS0FBQU4sT0FBQUEsRUFDQU0sS0FBQVcsS0FBQUEsRUFDQVgsS0FBQVksS0FBQUEsRUFFQVosS0FBQUUsSUFFQUYsS0FBQUMsT0FBQSxXQUVBRCxLQUFBRSxJQUFBTCxTQUFBTSxjQUFBLE9BQ0FILEtBQUFFLElBQUFHLFVBQUFDLElBQUEsWUFDQU4sS0FBQUUsSUFBQUUsTUFBQVosTUFBQVEsS0FBQVIsTUFBQSxLQUNBUSxLQUFBRSxJQUFBRSxNQUFBVixPQUFBTSxLQUFBTixPQUFBLEtBQ0FNLEtBQUFFLElBQUFFLE1BQUFVLElBQUFkLEtBQUFZLEtBQUEsS0FDQVosS0FBQUUsSUFBQUUsTUFBQVcsS0FBQWYsS0FBQVcsS0FBQSxLQUVBZixVQUFBRSxjQUFBLFdBQ0FTLFlBQUFQLEtBQUFFLE9BSUFvQyxVQUFBLEdBQUFELFVBQUEsR0FBQSxHQUFBbkQsVUFBQU8sVUFDQTRDLFVBQUFwQyIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpO1xuXG4vLyBDcmVhdGUgY2FudmFzIG9iamVjdFxudmFyIGNhbnZhcyA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxufVxuLy8gTmV3IGNhbnZhc1xudmFyIGNhbnZhczEgPSBuZXcgY2FudmFzICgxMjAwLCA1MDApO1xuY2FudmFzMS5jcmVhdGUoKTtcbiIsIi8vIENyZWF0ZSBjaGVlc2Ugb2JqZWN0XG52YXIgY2hlZXNlcyA9IFtdO1xudmFyIHNjb3JlID0gMDtcbnZhciBjaGVlc2UgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZLCBzcGVlZClcbntcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGlyWDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgIHRoaXMuZGl2O1xuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ2NoZWVzZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbiAgICB0aGlzLmFkZCA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGFkZCA9IHt9O1xuICAgICAgICBhZGQucG9zWSA9IF90aGlzLnBvc1k7XG4gICAgICAgIGNoZWVzZXMucHVzaChhZGQpO1xuICAgIH1cbiAgICB0aGlzLmRpcmVjdGlvbiA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucG9zWCA8PSAtIDEwMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gY2FudmFzMS53aWR0aCAtIF90aGlzLndpZHRoO1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSByYW5kb21ZKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWCAtPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXYuc3R5bGUubGVmdCA9IF90aGlzLnBvc1ggKyAncHgnO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG1vdXNlMS5wb3NZIC0gbW91c2UxLmhlaWdodC8yIDwgX3RoaXMucG9zWSAmJlxuICAgICAgICAgICAgICAgIG1vdXNlMS5wb3NZICsgbW91c2UxLmhlaWdodC8yID4gX3RoaXMucG9zWSAmJlxuICAgICAgICAgICAgICAgIG1vdXNlMS5wb3NYIC0gbW91c2UxLndpZHRoLzIgPCBfdGhpcy5wb3NYICYmXG4gICAgICAgICAgICAgICAgbW91c2UxLnBvc1ggKyBtb3VzZTEud2lkdGgvMiA+IF90aGlzLnBvc1hcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gY2FudmFzMS53aWR0aCAtIF90aGlzLndpZHRoO1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSByYW5kb21ZKCk7XG4gICAgICAgICAgICAgICAgc2NvcmUgKz0gMTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2NvcmU6ICcgKyBzY29yZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwgMzApXG4gICAgfVxufVxuXG4vLyBDcmVhdGUgY2hlZXNlcyBhcnJheVxuXG5cblxuZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspXG57XG4gICAgdmFyIGNoZWVzZTEgPSBuZXcgY2hlZXNlICggNTAsIDUwLCByYW5kb21YKCksIHJhbmRvbVkoKSwgcmFuZG9tKDEyKSApO1xuICAgIGNoZWVzZTEuY3JlYXRlKCk7XG4gICAgY2hlZXNlMS5hZGQoKTtcbn1cblxuLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVlc2VzLmxlbmd0aCAtIDE7IGkrKylcbi8vIHtcbi8vICAgICBpZiAoY2hlZXNlc1tpXS5wb3NZIDwgKGNoZWVzZXNbaSsxXS5wb3NZICsgY2hlZXNlMS5oZWlnaHQgKiAyKSlcbi8vICAgICB7XG4vLyAgICAgICAgIGNoZWVzZXNbaV0ucG9zWSA9IHJhbmRvbVkoKVxuLy8gICAgICAgICBjaGVlc2VzW2krMV0ucG9zWSA9IHJhbmRvbVkoKVxuLy8gICAgIH1cbi8vICAgICBlbHNlXG4vLyAgICAge1xuLy9cbi8vICAgICB9XG4vLyB9XG4iLCIvLyBDcmVhdGUgbW91c2Ugb2JqZWN0XG52YXIgbW91c2UgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZLCBzcGVlZCwgZGlyWCwgZGlyWSlcbntcbiAgICAvLyBQcm9wcmlldGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgIHRoaXMuZGlyWCA9IDA7XG4gICAgdGhpcy5kaXJZID0gMDtcblxuICAgIHRoaXMuY3Jvc3MgPSBuZXcgQXJyYXkoKTtcbiAgICB0aGlzLmRpdjtcblxuICAgIHZhciBpc1ByZXNzZWQgPSBmYWxzZTtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ21vdXNlJywgJ2RpcjkwJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMubW92ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KVxuICAgICAgICB7XG5cbiAgICAgICAgICAgIC8vIGlmIChldmVudC5rZXlDb2RlID09IF90aGlzLmNyb3NzWzBdICYmIF90aGlzLmNyb3NzWzFdKVxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpclggPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXJZID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXI0NVwiO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSBfdGhpcy5jcm9zc1sxXSAmJiBfdGhpcy5jcm9zc1syXSlcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXJYID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWSA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIxMzVcIjtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gX3RoaXMuY3Jvc3NbMl0gJiYgX3RoaXMuY3Jvc3NbM10pXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGlyWCA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXJZID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjIyNVwiO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSBfdGhpcy5jcm9zc1szXSAmJiBfdGhpcy5jcm9zc1s0XSlcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy5kaXJYID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgLy8gICAgIF90aGlzLmRpclkgPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAvLyAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZSA9IFwibW91c2UgZGlyMzE1XCI7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gX3RoaXMuY3Jvc3NbMF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGlyWSA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSBfdGhpcy5jcm9zc1sxXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXJYID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjkwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IF90aGlzLmNyb3NzWzJdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF90aGlzLmRpclkgPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMTgwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IF90aGlzLmNyb3NzWzNdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF90aGlzLmRpclggPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZSA9IFwibW91c2UgZGlyMjcwXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggaXNQcmVzc2VkID09IGZhbHNlIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1ByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxvb3AgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnBvc1ggPD0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucG9zWCA+PSBjYW52YXMxLndpZHRoLV90aGlzLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gY2FudmFzMS53aWR0aCAtIF90aGlzLndpZHRoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKz0gX3RoaXMuZGlyWDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wb3NZIDw9IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1kgPj0gY2FudmFzMS5oZWlnaHQtX3RoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gY2FudmFzMS5oZWlnaHQtIF90aGlzLmhlaWdodCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICs9IF90aGlzLmRpclk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLmxlZnQ9IF90aGlzLnBvc1ggK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLnRvcCA9IF90aGlzLnBvc1kgK1wicHhcIjtcblxuICAgICAgICAgICAgICAgIH0sIDEwICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGV2ZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlzUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpclggPSAwO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpclkgPSAwO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobG9vcCk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG59XG5cbi8vIE5ldyBtb3VzZVxudmFyIG1vdXNlMSA9IG5ldyBtb3VzZSAoNzAsIDcwLCAyMCwgMjAsIDIsIDAsIDApO1xubW91c2UxLmNyb3NzID0gWzM4LDM5LDQwLDM3XTtcblxubW91c2UxLmNyZWF0ZSgpO1xubW91c2UxLm1vdmUoKTtcbiIsInZhciBvYnN0YWNsZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcblxuICAgIHRoaXMuZGl2O1xuXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdvYnN0YWNsZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbn1cblxudmFyIG9ic3RhY2xlMSA9IG5ldyBvYnN0YWNsZSggMTAsIDEwLCByYW5kb21YKCksIHJhbmRvbVkoKSApXG5vYnN0YWNsZS5jcmVhdGUoKTtcbiJdfQ==
