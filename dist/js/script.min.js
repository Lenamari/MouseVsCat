function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(s){return Math.abs(Math.random()*s)+3}function random(s){return Math.abs(Math.random()*s)}var container=document.querySelector(".container"),scoreDiv=container.querySelector(".score > span"),score=0,canvas=function(s,t){this.width=s,this.height=t,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();var obstacles=[],obstacle=function(s,t,e,i){this.div,this.width=s,this.height=s,this.posX=randomX(),this.posY=randomY(),this.create=function(){obstacles.push(this),this.div=document.createElement("div"),this.div.classList.add("obstacle"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},obstacle1=new obstacle(50,50,100,100);obstacle1.create();var mouse=function(s,t,e,i,h,o,d){this.width=s,this.height=t,this.posX=e,this.posY=i,this.speed=h,this.dirX=0,this.dirY=0,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var s,t,e,i,h=this,o=!1;document.addEventListener("keydown",function(d){switch(d.keyCode){case 37:s=!0,h.dirX=-h.speed,h.div.className="mouse dir270";break;case 38:t=!0,h.dirY=-h.speed,h.div.className="mouse dir0";break;case 39:e=!0,h.dirX=h.speed,h.div.className="mouse dir90";break;case 40:i=!0,h.dirY=h.speed,h.div.className="mouse dir180"}0==o&&(o=!0,loop=setInterval(function(){h.posX<=0?h.posX=1:h.posX>=canvas1.width-h.width?h.posX=canvas1.width-h.width-1:h.posX+=h.dirX,h.posY<=0?h.posY=1:h.posY>=canvas1.height-h.height?h.posY=canvas1.height-h.height-1:h.posY+=h.dirY;for(var s=0;s<cheeses.length-1;s++)h.posY-h.height/2<cheeses[s].posY&&h.posY+h.height/2>cheeses[s].posY&&h.posX-h.width/2<cheeses[s].posX&&h.posX+h.width/2>cheeses[s].posX&&(score+=1,scoreDiv.innerHTML=score);h.div.style.left=h.posX+"px",h.div.style.top=h.posY+"px"},10))}),document.addEventListener("keyup",function(s){o=!1,h.dirX=0,h.dirY=0,clearInterval(loop)},!1)}},mouse1=new mouse(50,50,20,200,4,0,0);mouse1.create(),mouse1.move();for(var cheeses=[],cheese=function(s,t,e,i){this.width=s,this.height=t,this.dirX,this.posX=e,this.posY=i,this.div,this.create=function(){cheeses.push(this),this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.direction=function(){var s=this;setInterval(function(){s.posX<=-100?(s.posX=canvas1.width-s.width,s.posY=randomY()):(s.posX-=s.speed,s.div.style.left=s.posX+"px",s.div.style.top=s.posY+"px"),mouse1.posY-mouse1.height/2<s.posY&&mouse1.posY+mouse1.height/2>s.posY&&mouse1.posX-mouse1.width/2<s.posX&&mouse1.posX+mouse1.width/2>s.posX&&(s.posX=canvas1.width-s.width,s.posY=randomY(),score+=1,console.log("score: "+score))},30)}},i=0;i<=10;i++){var cheese1=new cheese(50,50,randomX(),randomY());cheese1.create()}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhcy5qcyIsIm9ic3RhY2xlLmpzIiwibW91c2UuanMiLCJjaGVlc2UuanMiXSwibmFtZXMiOlsicmFuZG9tWCIsIk1hdGgiLCJhYnMiLCJmbG9vciIsInJhbmRvbSIsImNhbnZhczEiLCJ3aWR0aCIsInJhbmRvbVkiLCJoZWlnaHQiLCJzcGVlZCIsIm51bWJlciIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjb3JlRGl2Iiwic2NvcmUiLCJjYW52YXMiLCJ0aGlzIiwiY3JlYXRlIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJvYnN0YWNsZXMiLCJvYnN0YWNsZSIsInBvc1giLCJwb3NZIiwicHVzaCIsInRvcCIsImxlZnQiLCJvYnN0YWNsZTEiLCJtb3VzZSIsImRpclgiLCJkaXJZIiwibW92ZSIsImxlZnRQcmVzc2VkIiwidXBQcmVzc2VkIiwicmlnaHRQcmVzc2VkIiwiZG93blByZXNzZWQiLCJfdGhpcyIsImlzUHJlc3NlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwia2V5Q29kZSIsImNsYXNzTmFtZSIsImxvb3AiLCJzZXRJbnRlcnZhbCIsImkiLCJjaGVlc2VzIiwibGVuZ3RoIiwiaW5uZXJIVE1MIiwiZXZlbnQiLCJjbGVhckludGVydmFsIiwibW91c2UxIiwiY2hlZXNlIiwiZGlyZWN0aW9uIiwiY29uc29sZSIsImxvZyIsImNoZWVzZTEiXSwibWFwcGluZ3MiOiJBQUNBLFFBQUFBLFdBQUEsTUFBQUMsTUFBQUMsSUFBQUQsS0FBQUUsTUFBQUYsS0FBQUcsU0FBQUMsUUFBQUMsTUFBQSxLQUNBLFFBQUFDLFdBQUEsTUFBQU4sTUFBQUMsSUFBQUQsS0FBQUUsTUFBQUYsS0FBQUcsU0FBQUMsUUFBQUcsT0FBQSxLQUNBLFFBQUFKLFFBQUFLLEdBQUEsTUFBQVIsTUFBQUMsSUFBQUQsS0FBQUcsU0FBQUssR0FBQSxFQUNBLFFBQUFMLFFBQUFN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R0EsTUFTQWtDLEVBQUEsRUFBQUEsR0FBQSxHQUFBQSxJQUNBLENBQ0EsR0FBQVcsU0FBQSxHQUFBSixRQUFBLEdBQUEsR0FBQXhELFVBQUFPLFVBQ0FxRCxTQUFBMUMiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbnZhciBzY29yZURpdiA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2NvcmUgPiBzcGFuJyksXG4gICAgc2NvcmUgPSAwO1xuXG4vLyBDcmVhdGUgY2FudmFzIG9iamVjdFxudmFyIGNhbnZhcyA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxufVxuLy8gTmV3IGNhbnZhc1xudmFyIGNhbnZhczEgPSBuZXcgY2FudmFzICgxMjAwLCA1MDApO1xuY2FudmFzMS5jcmVhdGUoKTtcbiIsInZhciBvYnN0YWNsZXMgPSBbXTtcblxudmFyIG9ic3RhY2xlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcG9zWCwgcG9zWSlcbntcbiAgICB0aGlzLmRpdjtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLnBvc1ggPSByYW5kb21YKCk7XG4gICAgdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICBvYnN0YWNsZXMucHVzaCh0aGlzKTtcblxuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdvYnN0YWNsZScpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbn1cblxudmFyIG9ic3RhY2xlMSA9IG5ldyBvYnN0YWNsZSAoNTAsIDUwLCAxMDAsIDEwMClcbm9ic3RhY2xlMS5jcmVhdGUoKTtcbiIsIi8vIENyZWF0ZSBtb3VzZSBvYmplY3RcbnZhciBtb3VzZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1ksIHNwZWVkLCBkaXJYLCBkaXJZKVxue1xuICAgIC8vIFByb3ByaWV0aWVzXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XG4gICAgdGhpcy5kaXJYID0gMDtcbiAgICB0aGlzLmRpclkgPSAwO1xuXG4gICAgdGhpcy5kaXY7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdtb3VzZScsICdkaXI5MCcpO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLnRvcCA9IHRoaXMucG9zWSArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmxlZnQgPSB0aGlzLnBvc1ggKyAncHgnO1xuXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cblxuICAgIHRoaXMubW92ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgICAgICBsZWZ0UHJlc3NlZCxcbiAgICAgICAgICAgIHVwUHJlc3NlZCxcbiAgICAgICAgICAgIHJpZ2h0UHJlc3NlZCxcbiAgICAgICAgICAgIGRvd25QcmVzc2VkLFxuICAgICAgICAgICAgaXNQcmVzc2VkID0gZmFsc2U7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICAgICAgICAgIGxlZnRQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlyWCA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjI3MFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICB1cFByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXJZID0gLV90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyMFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgICByaWdodFByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXJYID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXI5MFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICBkb3duUHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclkgPSBfdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjE4MFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzUHJlc3NlZCA9PSBmYWxzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1ByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxvb3AgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29sbGlzaW9uIGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucG9zWCA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLnBvc1ggPj0gY2FudmFzMS53aWR0aC1fdGhpcy53aWR0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSBjYW52YXMxLndpZHRoIC0gX3RoaXMud2lkdGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYICs9IF90aGlzLmRpclg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnBvc1kgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5wb3NZID49IGNhbnZhczEuaGVpZ2h0LV90aGlzLmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgPSBjYW52YXMxLmhlaWdodC0gX3RoaXMuaGVpZ2h0IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWSArPSBfdGhpcy5kaXJZO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBibG9ja3NcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKCBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGggPCBvYnN0YWNsZTEucG9zWCAmJiBfdGhpcy5wb3NYICsgX3RoaXMud2lkdGggPiBvYnN0YWNsZTEucG9zWClcbiAgICAgICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHJpZ2h0UHJlc3NlZClcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBfdGhpcy5wb3NYIC09IDEwO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZWxzZSBpZiAobGVmdFByZXNzZWQpXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgX3RoaXMucG9zWCArPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoX3RoaXMucG9zWSAtIF90aGlzLmhlaWdodCA8IG9ic3RhY2xlMS5wb3NZICYmIF90aGlzLnBvc1kgKyBfdGhpcy5oZWlnaHQgPiBvYnN0YWNsZTEucG9zWSlcbiAgICAgICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHVwUHJlc3NlZClcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBfdGhpcy5wb3NZIC09IDEwO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZWxzZSBpZiAoZG93blByZXNzZWQpXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgX3RoaXMucG9zWSArPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVhdCBjaGVlc2VcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVlc2VzLmxlbmd0aCAtIDE7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgLSBfdGhpcy5oZWlnaHQvMiA8IGNoZWVzZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKyBfdGhpcy5oZWlnaHQvMiA+IGNoZWVzZXNbaV0ucG9zWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggLSBfdGhpcy53aWR0aC8yIDwgY2hlZXNlc1tpXS5wb3NYICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCArIF90aGlzLndpZHRoLzIgPiBjaGVlc2VzW2ldLnBvc1hcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGl2LmlubmVySFRNTCA9IHNjb3JlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS5sZWZ0PSBfdGhpcy5wb3NYICtcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICtcInB4XCI7XG5cbiAgICAgICAgICAgICAgICB9LCAxMCApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGV2ZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBpc1ByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLmRpclggPSAwO1xuICAgICAgICAgICAgX3RoaXMuZGlyWSA9IDA7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGxvb3ApO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG5cbn1cblxuLy8gTmV3IG1vdXNlXG52YXIgbW91c2UxID0gbmV3IG1vdXNlICg1MCwgNTAsIDIwLCAyMDAsIDQsIDAsIDApO1xubW91c2UxLmNyZWF0ZSgpO1xubW91c2UxLm1vdmUoKTtcbiIsInZhciBjaGVlc2VzID0gW107XG5cbi8vIENyZWF0ZSBjaGVlc2Ugb2JqZWN0XG52YXIgY2hlZXNlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcG9zWCwgcG9zWSlcbntcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGlyWDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG4gICAgdGhpcy5kaXY7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICBjaGVlc2VzLnB1c2godGhpcyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdjaGVlc2UnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKF90aGlzLnBvc1ggPD0gLSAxMDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aDtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggLT0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGl2LnN0eWxlLmxlZnQgPSBfdGhpcy5wb3NYICsgJ3B4JztcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXYuc3R5bGUudG9wID0gX3RoaXMucG9zWSArICdweCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBtb3VzZTEucG9zWSAtIG1vdXNlMS5oZWlnaHQvMiA8IF90aGlzLnBvc1kgJiZcbiAgICAgICAgICAgICAgICBtb3VzZTEucG9zWSArIG1vdXNlMS5oZWlnaHQvMiA+IF90aGlzLnBvc1kgJiZcbiAgICAgICAgICAgICAgICBtb3VzZTEucG9zWCAtIG1vdXNlMS53aWR0aC8yIDwgX3RoaXMucG9zWCAmJlxuICAgICAgICAgICAgICAgIG1vdXNlMS5wb3NYICsgbW91c2UxLndpZHRoLzIgPiBfdGhpcy5wb3NYXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9zWCA9IGNhbnZhczEud2lkdGggLSBfdGhpcy53aWR0aDtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gcmFuZG9tWSgpO1xuICAgICAgICAgICAgICAgIHNjb3JlICs9IDE7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Njb3JlOiAnICsgc2NvcmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sIDMwKVxuICAgIH1cbn1cblxuLy8gQ3JlYXRlIGNoZWVzZXMgYXJyYXlcblxuXG5cblxuZm9yICh2YXIgaSA9IDA7IGkgPD0gMTA7IGkrKylcbntcbiAgICB2YXIgY2hlZXNlMSA9IG5ldyBjaGVlc2UgKCA1MCwgNTAsIHJhbmRvbVgoKSwgcmFuZG9tWSgpICk7XG4gICAgY2hlZXNlMS5jcmVhdGUoKTtcbn1cbiJdfQ==
