function randomX(){return Math.abs(Math.floor(Math.random()*canvas1.width-50))}function randomY(){return Math.abs(Math.floor(Math.random()*canvas1.height-50))}function random(t){return Math.abs(Math.random()*t)+3}function random(t){return Math.abs(Math.random()*t)}var body=document.querySelector("body"),container=document.querySelector(".container"),scoreDiv=container.querySelector(".score > span"),score=0,canvas=function(t,e){this.width=t,this.height=e,this.div,this.create=function(){this.div=document.createElement("div"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.classList.add("canvas"),container.appendChild(this.div)}},canvas1=new canvas(1200,500);canvas1.create();var blackOut=function(){this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("black-out"),body.appendChild(this.div)},this.remove=function(){this.div.remove()}},obstacles=[],obstacle=function(t,e,s,i){this.div,this.width=t,this.height=t,this.posX=randomX(),this.posY=randomY(),this.create=function(){obstacles.push(this),this.div=document.createElement("div"),this.div.classList.add("obstacle"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},obstacle1=new obstacle(50,50,100,100);obstacle1.create();for(var cheeses=[],cheese=function(t,e,s,i){this.width=t,this.height=e,this.dirX,this.posX=s,this.posY=i,this.div,this.create=function(){cheeses.push(this),this.div=document.createElement("div"),this.div.classList.add("cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},i=0;i<=10;i++){var cheese1=new cheese(50,50,randomX(),randomY());cheese1.create()}for(var rottenCheeses=[],rottenCheese=function(t,e,s,i){this.width=t,this.height=e,this.dirX,this.posX=s,this.posY=i,this.div,this.create=function(){rottenCheeses.push(this),this.div=document.createElement("div"),this.div.classList.add("rotten-cheese"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},i=0;i<=5;i++){var rottenCheese1=new rottenCheese(50,50,randomX(),randomY());rottenCheese1.create()}for(var wines=[],wine=function(t,e,s,i){this.width=t,this.height=e,this.dirX,this.posX=s,this.posY=i,this.div,this.create=function(){wines.push(this),this.div=document.createElement("div"),this.div.classList.add("wine"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)}},i=0;i<=5;i++){var wine1=new wine(50,50,randomX(),randomY());wine1.create()}var mouse=function(t,e,s,i,h,o,d){this.width=t,this.height=e,this.posX=s,this.posY=i,this.speed=h,this.dirX=0,this.dirY=0,this.div,this.create=function(){this.div=document.createElement("div"),this.div.classList.add("mouse","dir90"),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.top=this.posY+"px",this.div.style.left=this.posX+"px",container.querySelector(".canvas").appendChild(this.div)},this.move=function(){var t,e,s,i,h=this,o=!1;document.addEventListener("keydown",function(d){switch(d.keyCode){case 37:t=!0,h.dirX=-h.speed,h.div.className="mouse dir270";break;case 38:e=!0,h.dirY=-h.speed,h.div.className="mouse dir0";break;case 39:s=!0,h.dirX=h.speed,h.div.className="mouse dir90";break;case 40:i=!0,h.dirY=h.speed,h.div.className="mouse dir180"}0==o&&(o=!0,loop=setInterval(function(){h.posX<=0?h.posX=1:h.posX>=canvas1.width-h.width?h.posX=canvas1.width-h.width-1:h.posX+=h.dirX,h.posY<=0?h.posY=1:h.posY>=canvas1.height-h.height?h.posY=canvas1.height-h.height-1:h.posY+=h.dirY;for(var t=0;t<cheeses.length-1;t++)h.posY-h.height/2<cheeses[t].posY&&h.posY+h.height/2>cheeses[t].posY&&h.posX-h.width/2<cheeses[t].posX&&h.posX+h.width/2>cheeses[t].posX&&(score+=1,scoreDiv.innerHTML=score);for(var t=0;t<rottenCheeses.length-1;t++)if(h.posY-h.height/2<rottenCheeses[t].posY&&h.posY+h.height/2>rottenCheeses[t].posY&&h.posX-h.width/2<rottenCheeses[t].posX&&h.posX+h.width/2>rottenCheeses[t].posX){if(score<=0)score=0;else{score-=1;var e=new blackOut;e.create(),setTimeout(function(){e.remove()},500)}scoreDiv.innerHTML=score}h.div.style.left=h.posX+"px",h.div.style.top=h.posY+"px"},50))}),document.addEventListener("keyup",function(t){o=!1,h.dirX=0,h.dirY=0,clearInterval(loop)},!1)}},mouse1=new mouse(50,50,20,200,15,0,0);mouse1.create(),mouse1.move();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhcy5qcyIsIm9ic3RhY2xlLmpzIiwiY2hlZXNlLmpzIiwicm90dGVuQ2hlZXNlLmpzIiwid2luZS5qcyIsIm1vdXNlLmpzIl0sIm5hbWVzIjpbInJhbmRvbVgiLCJNYXRoIiwiYWJzIiwiZmxvb3IiLCJyYW5kb20iLCJjYW52YXMxIiwid2lkdGgiLCJyYW5kb21ZIiwiaGVpZ2h0Iiwic3BlZWQiLCJudW1iZXIiLCJib2R5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGFpbmVyIiwic2NvcmVEaXYiLCJzY29yZSIsImNhbnZhcyIsInRoaXMiLCJkaXYiLCJjcmVhdGUiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImJsYWNrT3V0IiwicmVtb3ZlIiwib2JzdGFjbGVzIiwib2JzdGFjbGUiLCJwb3NYIiwicG9zWSIsInB1c2giLCJ0b3AiLCJsZWZ0Iiwib2JzdGFjbGUxIiwiY2hlZXNlcyIsImNoZWVzZSIsImRpclgiLCJpIiwiY2hlZXNlMSIsInJvdHRlbkNoZWVzZXMiLCJyb3R0ZW5DaGVlc2UiLCJyb3R0ZW5DaGVlc2UxIiwid2luZXMiLCJ3aW5lIiwid2luZTEiLCJtb3VzZSIsImRpclkiLCJtb3ZlIiwibGVmdFByZXNzZWQiLCJ1cFByZXNzZWQiLCJyaWdodFByZXNzZWQiLCJkb3duUHJlc3NlZCIsIl90aGlzIiwiaXNQcmVzc2VkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJrZXlDb2RlIiwiY2xhc3NOYW1lIiwibG9vcCIsInNldEludGVydmFsIiwibGVuZ3RoIiwiaW5uZXJIVE1MIiwiYmxhY2tPdXQxIiwic2V0VGltZW91dCIsImV2ZW50IiwiY2xlYXJJbnRlcnZhbCIsIm1vdXNlMSJdLCJtYXBwaW5ncyI6IkFBQ0EsUUFBQUEsV0FBQSxNQUFBQyxNQUFBQyxJQUFBRCxLQUFBRSxNQUFBRixLQUFBRyxTQUFBQyxRQUFBQyxNQUFBLEtBQ0EsUUFBQUMsV0FBQSxNQUFB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QUFBRixHQUFBUixNQUNBdUIsRUFBQXhCLEtBQUF3QixFQUFBaEQsTUFBQSxFQUFBbUMsY0FBQUYsR0FBQVQsTUFDQXdCLEVBQUF4QixLQUFBd0IsRUFBQWhELE1BQUEsRUFBQW1DLGNBQUFGLEdBQUFULEtBRUEsQ0FDQSxHQUFBZCxPQUFBLEVBQ0FBLE1BQUEsTUFFQSxDQUNBQSxPQUFBLENBQ0EsSUFBQWdELEdBQUEsR0FBQXRDLFNBQ0FzQyxHQUFBNUMsU0FDQTZDLFdBQUEsV0FFQUQsRUFBQXJDLFVBQ0EsS0FHQVosU0FBQWdELFVBQUEvQyxNQUtBc0MsRUFBQW5DLElBQUFHLE1BQUFZLEtBQUFvQixFQUFBeEIsS0FBQSxLQUNBd0IsRUFBQW5DLElBQUFHLE1BQUFXLElBQUFxQixFQUFBdkIsS0FBQSxNQUVBLE9BR0FuQixTQUFBNEMsaUJBQUEsUUFBQSxTQUFBVSxHQUVBWCxHQUFBLEVBQ0FELEVBQUFoQixLQUFBLEVBQ0FnQixFQUFBTixLQUFBLEVBQ0FtQixjQUFBUCxRQUNBLEtBT0FRLE9BQUEsR0FBQXJCLE9BQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsRUFDQXFCLFFBQUFoRCxTQUNBZ0QsT0FBQW5CIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xudmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbnZhciBzY29yZURpdiA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2NvcmUgPiBzcGFuJyksXG4gICAgc2NvcmUgPSAwO1xuXG4vLyBDcmVhdGUgY2FudmFzIG9iamVjdFxudmFyIGNhbnZhcyA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpdjtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxufVxuLy8gTmV3IGNhbnZhc1xudmFyIGNhbnZhczEgPSBuZXcgY2FudmFzICgxMjAwLCA1MDApO1xuY2FudmFzMS5jcmVhdGUoKTtcblxudmFyIGJsYWNrT3V0ID0gZnVuY3Rpb24oKVxue1xuICAgIHRoaXMuZGl2O1xuXG4gICAgdGhpcy5jcmVhdGUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdibGFjay1vdXQnKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYucmVtb3ZlKCk7XG4gICAgfVxufVxuIiwidmFyIG9ic3RhY2xlcyA9IFtdO1xuXG52YXIgb2JzdGFjbGUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZKVxue1xuICAgIHRoaXMuZGl2O1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHdpZHRoO1xuICAgIHRoaXMucG9zWCA9IHJhbmRvbVgoKTtcbiAgICB0aGlzLnBvc1kgPSByYW5kb21ZKCk7XG5cbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIG9ic3RhY2xlcy5wdXNoKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ29ic3RhY2xlJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxufVxuXG52YXIgb2JzdGFjbGUxID0gbmV3IG9ic3RhY2xlICg1MCwgNTAsIDEwMCwgMTAwKVxub2JzdGFjbGUxLmNyZWF0ZSgpO1xuIiwidmFyIGNoZWVzZXMgPSBbXTtcblxuLy8gQ3JlYXRlIGNoZWVzZSBvYmplY3RcbnZhciBjaGVlc2UgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZKVxue1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5kaXJYO1xuICAgIHRoaXMucG9zWCA9IHBvc1g7XG4gICAgdGhpcy5wb3NZID0gcG9zWTtcbiAgICB0aGlzLmRpdjtcblxuICAgIC8vIE1ldGhvZHNcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIGNoZWVzZXMucHVzaCh0aGlzKTtcblxuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCdjaGVlc2UnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDw9IDEwOyBpKyspXG57XG4gICAgdmFyIGNoZWVzZTEgPSBuZXcgY2hlZXNlICggNTAsIDUwLCByYW5kb21YKCksIHJhbmRvbVkoKSApO1xuICAgIGNoZWVzZTEuY3JlYXRlKCk7XG59XG4iLCJ2YXIgcm90dGVuQ2hlZXNlcyA9IFtdO1xuXG4vLyBDcmVhdGUgY2hlZXNlIG9iamVjdFxudmFyIHJvdHRlbkNoZWVzZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpclg7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgcm90dGVuQ2hlZXNlcy5wdXNoKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZGl2LmNsYXNzTGlzdC5hZGQoJ3JvdHRlbi1jaGVlc2UnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcbiAgICAgICAgXG4gICAgICAgIHZhciBjYW52YXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbnZhcycpO1xuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbn1cblxuZm9yICh2YXIgaSA9IDA7IGkgPD0gNTsgaSsrKVxue1xuICAgIHZhciByb3R0ZW5DaGVlc2UxID0gbmV3IHJvdHRlbkNoZWVzZSAoIDUwLCA1MCwgcmFuZG9tWCgpLCByYW5kb21ZKCkgKTtcbiAgICByb3R0ZW5DaGVlc2UxLmNyZWF0ZSgpO1xufVxuIiwidmFyIHdpbmVzID0gW107XG5cbi8vIENyZWF0ZSBjaGVlc2Ugb2JqZWN0XG52YXIgd2luZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHBvc1gsIHBvc1kpXG57XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmRpclg7XG4gICAgdGhpcy5wb3NYID0gcG9zWDtcbiAgICB0aGlzLnBvc1kgPSBwb3NZO1xuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgd2luZXMucHVzaCh0aGlzKTtcblxuICAgICAgICB0aGlzLmRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpdi5jbGFzc0xpc3QuYWRkKCd3aW5lJyk7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUudG9wID0gdGhpcy5wb3NZICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUubGVmdCA9IHRoaXMucG9zWCArICdweCc7XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxufVxuXG5mb3IgKHZhciBpID0gMDsgaSA8PSA1OyBpKyspXG57XG4gICAgdmFyIHdpbmUxID0gbmV3IHdpbmUgKCA1MCwgNTAsIHJhbmRvbVgoKSwgcmFuZG9tWSgpICk7XG4gICAgd2luZTEuY3JlYXRlKCk7XG59XG4iLCIvLyBDcmVhdGUgbW91c2Ugb2JqZWN0XG52YXIgbW91c2UgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBwb3NYLCBwb3NZLCBzcGVlZCwgZGlyWCwgZGlyWSlcbntcbiAgICAvLyBQcm9wcmlldGllc1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLnBvc1ggPSBwb3NYO1xuICAgIHRoaXMucG9zWSA9IHBvc1k7XG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgIHRoaXMuZGlyWCA9IDA7XG4gICAgdGhpcy5kaXJZID0gMDtcblxuICAgIHRoaXMuZGl2O1xuXG4gICAgLy8gTWV0aG9kc1xuICAgIHRoaXMuY3JlYXRlID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5kaXYuY2xhc3NMaXN0LmFkZCgnbW91c2UnLCAnZGlyOTAnKTtcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS50b3AgPSB0aGlzLnBvc1kgKyAncHgnO1xuICAgICAgICB0aGlzLmRpdi5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NYICsgJ3B4JztcblxuICAgICAgICB2YXIgY2FudmFzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMnKTtcbiAgICAgICAgY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG5cbiAgICB0aGlzLm1vdmUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICAgICAgbGVmdFByZXNzZWQsXG4gICAgICAgICAgICB1cFByZXNzZWQsXG4gICAgICAgICAgICByaWdodFByZXNzZWQsXG4gICAgICAgICAgICBkb3duUHJlc3NlZCxcbiAgICAgICAgICAgIGlzUHJlc3NlZCA9IGZhbHNlO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgICAgICBsZWZ0UHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpclggPSAtX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIyNzBcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgdXBQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlyWSA9IC1fdGhpcy5zcGVlZDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGl2LmNsYXNzTmFtZT1cIm1vdXNlIGRpcjBcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlyWCA9IF90aGlzLnNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXYuY2xhc3NOYW1lPVwibW91c2UgZGlyOTBcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgZG93blByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaXJZID0gX3RoaXMuc3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5jbGFzc05hbWU9XCJtb3VzZSBkaXIxODBcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc1ByZXNzZWQgPT0gZmFsc2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXNQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb29wID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBjYW52YXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnBvc1ggPD0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5wb3NYID49IGNhbnZhczEud2lkdGgtX3RoaXMud2lkdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYID0gY2FudmFzMS53aWR0aCAtIF90aGlzLndpZHRoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9zWCArPSBfdGhpcy5kaXJYO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wb3NZIDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucG9zWSA+PSBjYW52YXMxLmhlaWdodC1fdGhpcy5oZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZID0gY2FudmFzMS5oZWlnaHQtIF90aGlzLmhlaWdodCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1kgKz0gX3RoaXMuZGlyWTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDb2xsaXNpb24gYmxvY2tzXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmICggX3RoaXMucG9zWCAtIF90aGlzLndpZHRoIDwgb2JzdGFjbGUxLnBvc1ggJiYgX3RoaXMucG9zWCArIF90aGlzLndpZHRoID4gb2JzdGFjbGUxLnBvc1gpXG4gICAgICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmIChyaWdodFByZXNzZWQpXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgX3RoaXMucG9zWCAtPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVsc2UgaWYgKGxlZnRQcmVzc2VkKVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIF90aGlzLnBvc1ggKz0gMTA7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKF90aGlzLnBvc1kgLSBfdGhpcy5oZWlnaHQgPCBvYnN0YWNsZTEucG9zWSAmJiBfdGhpcy5wb3NZICsgX3RoaXMuaGVpZ2h0ID4gb2JzdGFjbGUxLnBvc1kpXG4gICAgICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmICh1cFByZXNzZWQpXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgX3RoaXMucG9zWSAtPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVsc2UgaWYgKGRvd25QcmVzc2VkKVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIF90aGlzLnBvc1kgKz0gMTA7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBFYXQgY2hlZXNlXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlZXNlcy5sZW5ndGggLSAxOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC0gX3RoaXMuaGVpZ2h0LzIgPCBjaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICsgX3RoaXMuaGVpZ2h0LzIgPiBjaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGgvMiA8IGNoZWVzZXNbaV0ucG9zWCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKyBfdGhpcy53aWR0aC8yID4gY2hlZXNlc1tpXS5wb3NYXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZURpdi5pbm5lckhUTUwgPSBzY29yZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVhdCByb3R0ZW4tY2hlZXNlXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm90dGVuQ2hlZXNlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZIC0gX3RoaXMuaGVpZ2h0LzIgPCByb3R0ZW5DaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NZICsgX3RoaXMuaGVpZ2h0LzIgPiByb3R0ZW5DaGVlc2VzW2ldLnBvc1kgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3NYIC0gX3RoaXMud2lkdGgvMiA8IHJvdHRlbkNoZWVzZXNbaV0ucG9zWCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc1ggKyBfdGhpcy53aWR0aC8yID4gcm90dGVuQ2hlZXNlc1tpXS5wb3NYXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3JlIDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlID0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlIC09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBibGFja091dDEgPSBuZXcgYmxhY2tPdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhY2tPdXQxLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhY2tPdXQxLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlRGl2LmlubmVySFRNTCA9IHNjb3JlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS5sZWZ0PSBfdGhpcy5wb3NYICtcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRpdi5zdHlsZS50b3AgPSBfdGhpcy5wb3NZICtcInB4XCI7XG5cbiAgICAgICAgICAgICAgICB9LCA1MCApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGV2ZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBpc1ByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLmRpclggPSAwO1xuICAgICAgICAgICAgX3RoaXMuZGlyWSA9IDA7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGxvb3ApO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG5cbn1cblxuLy8gTmV3IG1vdXNlXG52YXIgbW91c2UxID0gbmV3IG1vdXNlICg1MCwgNTAsIDIwLCAyMDAsIDE1LCAwLCAwKTtcbm1vdXNlMS5jcmVhdGUoKTtcbm1vdXNlMS5tb3ZlKCk7XG4iXX0=
